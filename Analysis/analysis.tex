\documentclass[12pt]{article}
\usepackage{amsthm}
\usepackage{libertine}
\usepackage[margin=0.15in]{geometry}
\usepackage{amsmath,amssymb}
\usepackage{multicol}
\usepackage[shortlabels]{enumitem}
\usepackage{siunitx}
\usepackage{setspace}
\usepackage{cancel}
\usepackage{graphicx}
\usepackage{pgfplots}
\usepackage{listings}
\usepackage{tabularx}
\usepackage[pagestyles]{titlesec}
\usepackage{thmtools}
\usepackage{thm-restate}
\usepackage[side, ragged,multiple,flushmargin]{footmisc}
\usepackage[colorlinks=true, linkcolor=darkgray]{hyperref}
\usepackage{cleveref}
\usepackage[]{csquotes}
\usepackage{xcolor-solarized}
\usepackage{shortcuts}
\usepackage{mdframed}
\usepackage{nameref}

% \usepackage[createShortEnv]{proof-at-the-end}

% \renewcommand*{\proofname}{}


\declaretheorem[
  % thmbox=S,
  name=Definition,
  refname={Definition, definition}, numberwithin=section,
  shaded={rulecolor=solarized-blue, rulewidth=2pt}
]{definition}

\declaretheorem[
  % thmbox=S,
  name=Axiom,
  refname={Axiom, axiom},
  numberwithin=section,
  shaded={rulecolor=solarized-orange, rulewidth=2pt}
]{axiom}

\declaretheorem[
  % thmbox=S,
  name=Lemma,
  refname={Lemma, lemma},
  numberwithin=section,
  shaded={rulecolor=solarized-orange, rulewidth=1pt, bgcolor={rgb}{1,1,1}}
]{lemma}

\declaretheorem[
  % thmbox=S,
  name=Corollary,
  refname={Corollary, corollary},
  numberwithin=section,
  shaded={rulecolor=solarized-orange, rulewidth=1pt, bgcolor={rgb}{1,1,1}}
]{corollary}

\declaretheorem[
  % thmbox=S,
  name=Remark,
  refname={Remark, remark},
  numberwithin=section
]{remark}

\declaretheorem[
  % thmbox=S,
  name=Theorem,
  refname={Theorem, theorem},
  numberwithin=section,
  shaded={rulecolor=solarized-red, rulewidth=1pt}
]{theorem}

\declaretheorem[
  % thmbox=M,
  name=Example,
  refname={Example, example},
  numberwithin=section,
  shaded={rulecolor=solarized-cyan, rulewidth=1pt, bgcolor={rgb}{1,1,1}}
]{example}

\declaretheorem[
  % thmbox=S,
  name=Proposition,
  refname={Proposition, proposition},
  numberwithin=section,
  shaded={rulecolor=solarized-magenta, rulewidth=1pt, bgcolor={rgb}{1,1,1}}
]{proposition}



% makes "quoted" text actually look correct
\MakeOuterQuote{"}


% page footer
\newpagestyle{mypage}{%
    % \footrule
    \setfoot{\scriptsize\textcolor{gray}{ยง\ref{\thesubsection}}}{\scriptsize\textcolor{gray}{\textit{\sectiontitle: \textbf{\subsectiontitle}}}}{\textcolor{gray}{\scriptsize p. \thepage}}
}

% title page settings
\newcommand{\pageauthor}{Louis Meunier}
\newcommand{\pagetitle}{Analysis I, II}
\newcommand{\pagesubtitle}{MATH254}

% black square for qed symbol
\renewcommand{\qedsymbol}{$\blacksquare$}


\titleformat{\section}
{\centering\normalfont\Large\bfseries}
{\thesection}{1em}{}
\pgfplotsset{compat=1.18}
\begin{document}
\setstretch{2.25}
\noindent
\begin{center}
    \begin{tabularx}{\textwidth} { 
        >{\raggedright\arraybackslash}X 
        >{\raggedleft\arraybackslash}X}
    \LARGE \pageauthor \\
    \LARGE \textbf{\pagetitle} & \LARGE \textbf{\pagesubtitle}\\
    \end{tabularx}\\
    \rule[2ex]{0.8\textwidth}{1pt}
\end{center}

\setstretch{1.3}
\begin{mdframed}[backgroundcolor=gray!20]
  \underline{Course Outline:}\\\textit{
    Fundamentals of set theory. Properties of the reals. Limits, limsup, liminf. Continuity. Functions. Differentiation.\\
    \underline{References:}\\
    \textit{\emph{Understanding Analysis}, Abbott; \emph{Introduction to Real Analysis}, Bartle; \emph{Analysis I}, Tao}
  }
\end{mdframed}

\tableofcontents

% "enables" footer with section+subsection, etc. just comment it out if you don't want it
\pagestyle{mypage}

% makes sections a very dark gray + centered
\titleformat{\section}
{\color{darkgray}\centering\normalfont\Large\bfseries}
{\color{darkgray}\thesection}{1em}{}

% \color{solarized-red}{Theorems},\color{solarized-orange}{ Axioms, Lemmas, Corollaries},\color{solarized-blue}{ Definitions}, \color{solarized-cyan}{ Examples}, \color{solarized-magenta}{ Propositions},\color{darkgray}{ Remarks}

% auto labelling for sections/subsections
\let\origsection=\section
\let\origsubsection=\subsection

\renewcommand\section[1]{\origsection{#1}\label{\thesection}}
\renewcommand\subsection[1]{\origsubsection{#1}\label{\thesubsection}}

% need to change margins and such here for rest of document
% kind of messy but what can you do
% \newpage
% modify these as you wish
\newgeometry{margin=0.2in, top=0.2in, left=0.2in, bottom=0.5in, marginparwidth=1.7in, marginparsep=0.3in, outer=0.2in, includemp}
\parskip=0.6em
\setstretch{1.4}


\section{Logic, Sets, and Functions}
\subsection{Mathematical Induction \& The Naturals}

The \textbf{natural numbers}, $\mathbb{N} = \{1, 2, 3, \dots \}$, are specified by the 5 \textbf{Peano Axioms}:

\begin{enumerate}[label=(\arabic*)]
  \item 1 $\in$ $\mathbb{N}$
  \footnote{using 0 instead of 1 is also valid, but we will use 1 here.}
  \item every natural number has a successor in $\mathbb{N}$
  \item 1 is not the successor of any natural number
  \item if the successor of $x$ is equal to the successor of $y$, then $x$ is equal to $y$
  \footnote{axioms (2)-(4) can be equivalently stated in terms of a successor function $s(n)$ more rigorously, but won't here}
  \item \textbf{the axiom of induction}
\end{enumerate}

The \textbf{Axiom of Induction} (AI), can be stated in a number of ways. 

\begin{axiom}[AI.i]
  Let $S \subseteq \mathbb{N}$ with the properties:
  \begin{enumerate}[label=(\alph*)]
    \item $1 \in S$ 
    \item if $n \in S$, then $n+1 \in S$\footnotemark
  \end{enumerate}
  then $S = \mathbb{N}$.
\end{axiom}
\footnotetext{\textit{(a)} is called the \textbf{inductive base}; \textit{(b)} the \textbf{inductive step}. All AI restatements are equivalent in having both of these, and only differentiate on their specific values.}

\begin{example}\label{example:ai.i}
  Prove that, for every $n \in \mathbb{N}$, $1 + 2 + \cdots + n = \frac{n(n+1)}{2} (\equiv (1))$
  \begin{proof}[Proof (via AI.i)]
    Let $S$ be the subset of $\mathbb{N}$ for which $(1)$ holds; thus, our goal is to show $S = \mathbb{N}$, and we must prove \textit{(a)} and \text{(b)} of AI.i.
    \begin{itemize}
      \item by inspection, $1 \in S$ since $1 = \frac{1(1+1)}{2} = 1$, proving \textit{(a)}
      \item assume $n \in S$; then, $1 + 2 + \cdots + n = \frac{n(n+1)}{2}$ by definition of $S$. Adding $n+1$ to both sides yields:
      \begin{align}
        1 + 2 + \cdots + n + (n+1) &= \frac{n(n+1)}{2} + (n+1) \\
        &= (n+1)(\frac{n}{2}+1) \\
        &= \frac{(n+1)(n+2)}{2} \\
        &= \frac{(n+1)((n+1)+1)}{2}
      \end{align}
    \end{itemize}
    Line (4) is equivalent to statement (1) (substituting $n$ for $n+1$), and thus if $n \in S$, then $n+1 \in S$ and \textit{(b)} holds. Thus, by AI.i, $S = \mathbb{N}$ and $1 + 2 + \cdots + n = \frac{n(n+1)}{2}$ holds $\forall n \in \mathbb{N}$.
  \end{proof}
\end{example}

\begin{example}
  Prove (by induction), that for every $n \in \mathbb{N}$, $1^3 + 2^3 + \cdots + n^3 = \left[\frac{n(n+1)}{2}\right]^2$.
  \begin{proof}
    Follows a similar structure to the previous example. Let $S$ be the subset of $\mathbb{N}$ for which the statement holds. $1 \in S$ by inspection (\textit{(a)} holds), and we prove \textit{(b)} by assuming $n \in S$ and showing $n+1 \in S$ (algebraically). Thus, by AI.i, $S = \mathbb{N}$ and the statement holds $\forall n \in \mathbb{N}$.
  \end{proof}
  This can also be proven directly (Gauss' method).
\begin{proof}[Proof (Gauss' method)]
  Let $A(n) = 1 + 2 + 3 + \cdots + n$. We can write $2 \cdot A(n) = 1 + 2 + 3 + \cdots + n + 1 + 2 + 3 + \cdots + n$. Rearranging terms ($1$ with $n$, $2$ with $n - 1$, etc.), we can say $2\cdot A(n) = (n+1)+(n+1)+\cdots$, where $(n+1)$ is repeated $n$ times; thus, $2\cdot A(n) = n(n+1)$, and $A(n) = \frac{n(n+1)}{2}$.
\end{proof}
\end{example}



\begin{axiom}[AI.ii]
  Let $S \subseteq \mathbb{N}$ s.t.
  \begin{enumerate}[label=(\alph*)]
    \item $m \in S$
    \item $n \in S \implies n+1 \in S$
  \end{enumerate}
  then $\{m, m+1, m+2, \dots\} \subseteq S$.
\end{axiom}

\begin{example}
  Using AI.ii, prove that for $n \geq 2$, $n^2 > n+1$
\end{example}

\begin{proof}
  Let $S \subseteq \mathbb{N}$ be the set of $n$ for which the statement holds. $n = 2 \implies 4 > 3$, so the base case holds. Consider $n^2 > n +1$ for some $n \geq 2$. Then, $(n+1)^2 = n^2 + 2n + 1 > n+1 + 2n + 1 = 3n + 2 > 2n + 2 > n + 2$, hence $S = \{2,3,4, \cdots \}$ (all $n \geq 2$).
\end{proof}

\begin{axiom}[Principle of Complete Induction, AI.iii]\label{axiom:inductioniii}
  Let $S \subseteq \mathbb{N}$ s.t.
  \begin{enumerate}[label=(\alph*)]
    \item $1 \in S$
    \item if $1, 2, \dots, n -1 \in S$, then $n \in S$
  \end{enumerate}
  then $S = \mathbb{N}$.
\end{axiom}

Finally, combining AI.ii and AI.iii;
\begin{axiom}[AI.iv]
  Let $S \subseteq \mathbb{N}$ s.t.:
  \begin{enumerate}[label=(\alph*)]
    \item $m \in S$
    \item if $m, m + 1, \dots, m + n \in S$, then $m + n + 1 \in S$
  \end{enumerate}
  then $\{m, m+1, m+2, \dots\} \subseteq S$.
\end{axiom}

% idk why it won't restate it
\begin{theorem}[Fundamental Theorem of Arithmetic]\label{thm:fta}
  Every natural number $n$ can be written as a product of one or more primes. \footnotemark
\end{theorem}
\footnotetext{1 is not a prime number}
\begin{proof}[Proof of \cref{thm:fta}]
  Let $S$ be the set of all natural numbers that can be written as a product of one or more primes. We will use AI.iv to show $S = \{2, 3, \dots \}$.
  \begin{itemize}
    \item \textit{(a)} holds; 2 is prime and thus $2 \in S$
    \item suppose that $2, 3, \dots, 2 + n \in S$. Consider $2 + (n+1)$:
    \begin{itemize}
      \item if $2 + (n+1)$ is \textit{prime}, then $2 + (n+1) \in S$, as all primes are products of $1$ and themselves and are thus in $S$ by definition.
      \item if $2 + (n+1)$ is \textit{not prime}, then it can be written as $2 + (n+1) = a \cdot b$ where $a,b \in \mathbb{N}$, and $ 1 < a < 2 + (n+1)$ and $1 < b < 2 + (n+1)$. By the definition of $S$, $a,b \in S$, and can thus be written as the product of primes. Let $a = p_1 \cdot \cdots \cdot p_l$ and $b = q_1 \cdot \cdots \cdot q_j$, where the $p$'s and $q$'s are prime and $l, j \geq 1$. Then, $a\cdot b$ is a product of primes, and thus so is $2 + (n+1)$. Thus, $2 + (n+1) \in S$, and by AI.iv, $S = \{2, 3, 4, \dots\}$
    \end{itemize}
  \end{itemize}
\end{proof}

\subsection{Extensions: Integers, Rationals, Reals}

Consider the set of naturals $\mathbb{N} = \{1, 2, 3, \dots\}$. Adding $0$ to $\mathbb{N}$ defines $\mathbb{N}_0 = \{0, 1, 2, \dots\}$. We define the \textbf{integers} as the set $\mathbb{Z} = \{\dots, -3, -2, -1, 0, 1, 2, 3, \dots\}$, or the set of all positive and negative whole numbers.

Within $\mathbb{Z}$, we can define multiplication, addition and subtraction, with the neutrals of 1 and 0, respectively. However, we cannot define division, as we are not guaranteed a quotient in $\mathbb{Z}$. This necessitates the \textbf{rationals}, $\mathbb{Q}$. We define \[\mathbb{Q} = \{\frac{p}{q}: p \in \mathbb{Z}, q \in \mathbb{Z}, q \neq 0\}.\]
On $\mathbb{Q}$, we have the familiar operations of multiplication, addition, subtraction and properties of associativity, distributivity, etc. We can also define division, as $\frac{\frac{p}{q}}{\frac{p'}{q'}}= \frac{pq'}{qp'}$.

We can also define a relation $<$ between fractions, such that 
\begin{itemize}
  \item $x < y$ and $y < z \implies x < z$
  \item $x < y \implies x + z < y + z$
\end{itemize}

$\mathbb{Q}$, together with its operations and relations above, is called an \textbf{ordered field}.

\subsubsection{The Insufficiency of the Rationals}

We can consider historical reasoning for the extension of $\mathbb{Q}$ to $\mathbb{R}$. Consider a right triangle of legs $a$, $b$ and hypotenuse $c$. By the Pythagorean Theorem, $a^2 + b^2 = c^2$. Consider further the case there $a = b = 1$, and thus $c^2 = 2$. Does $c$ exist in $\mathbb{Q}$?
\begin{proposition}\label{prop:irr2}
  $c^2 = 2$, $c \notin \mathbb{Q}$.
\end{proposition} 
\begin{proof}[Proof of \cref{prop:irr2}]
  Suppose $c \in \mathbb{Q}$. We can thus write $c = \frac{p}{q}$, where\footnotemark  $p, q \in \mathbb{N}$, and $p, q$ share no common divisors, ie they are in "simplest form". Notably, $p$ and $q$ cannot \emph{both} be even (under our initial assumption), as they would then share a divisor of $2$. We write \begin{align*}
    c &= \frac{p}{q}\\
    c^2 = 2 & = \frac{p^2}{q^2}\\
    2q^2 &= p^2
  \end{align*}
  $p \in \mathbb{N} \implies p^2 \in \mathbb{N}$, and thus $p^2$, and therefore\footnotemark $p$, must be divisible by 2 ($\implies p \text{ even}$). Therefore, we can write $p = 2p_1, p_1 \in \mathbb{N}$, and thus $2q^2 = (2p_1^2)^2 \implies q^2 = 2p_1^2$. By the same reasoning, $q$ must now be even as well, contradicting our initial assumption that $p$ and $q$ share no common divisors. Thus, $c \notin \mathbb{Q}$.
\end{proof}

\footnotetext[5]{Note that in the definition of $\mathbb{Q}$, $p, q$ are defined to be in $\mathbb{Z}$; however, as we are using a geometric argument, we can assume $c>0 \implies \text{Sign}(p) = \text{Sign}(q)$, and we can just take $p, q \in \mathbb{N}$ for convenience and wlog.}

\footnotetext[6]{$\sqrt{\text{even}} = \text{even}$}

\subsection{Sets \& Set Operations}
% ! just look at algebra notes
\begin{itemize}
  \item $A \cup B = \{x : x \in A \text{ or } x \in B\}$
  \item $A \cap B = \{x : x \in A \text{ and } x \in B\}$
  \item $\bigcup_{i=1}^{\infty} A_n = \bigcup_{n \in \mathbb{N}} A_n = \{x : x \in A_n \text{ for some } n \in \mathbb{N}\}$
  \item $\bigcap_{i=1}^{\infty} A_n = \bigcap_{n \in \mathbb{N}} A_n = \{x : x \in A_n \forall n \in \mathbb{N}\}$
  \item $A^C = \{x : x\in X \text{ and } x \notin A\}$\footnote{$X$ is often omitted if it is clear from context.}
\end{itemize}

\begin{theorem}[De Morgan's Theorem(s)]\label{thm:demorgan}
  Let $A, B$ be sets. Then,
  \[(a)\hspace{1cm}(A \cap B)^C = A^C \cup B^C\]and
  \[(b)\hspace{1cm}(A \cup B)^C = A^C \cap B^C.\]
\end{theorem}
\begin{proof}[Proof of \cref{thm:demorgan}]

\begin{itemize}
  \item[(b)] \emph{(A similar argument follows\dots)}
\end{itemize}
\end{proof}
\begin{proposition}\label{prop:demorgangen}
  \begin{align*}
    (a)\, \left(\bigcap_{n=1}^\infty A_n\right)^C = \bigcup_{n=1}^\infty A_n^C \\
    (b)\, \left(\bigcup_{n=1}^\infty A_n\right)^C = \bigcap_{n=1}^\infty A_n^C 
  \end{align*}
\end{proposition}

\begin{proof}[Proof of \cref{prop:demorgangen}]
  Consider Proposition (b). Working from the left-hand side, we have
  \begin{align*}
    \left(\bigcup_{n=1}^\infty A_n\right)^C &= \{x : x \notin \bigcup A_n\}\\
    &= \{x : x\notin A_n \forall\, n \in \mathbb{N}\}\\
    &= \bigcap \{x : x \notin A_n\}\\
    &= \bigcap A_n^C
  \end{align*}
  (a) can be logically deduced from this result. Consider the RHS, $\bigcup A_n^C$. Taking the complement:
  \begin{align*}
    \left(\bigcup A_n^C\right)^C &\overset{\text{via (b)}}{=} \bigcap A_n^{C^C}\\
    &= \bigcap A_n
  \end{align*}
  Taking the complement of both sides, we have $\bigcup A_n^C = \left(\bigcap A_n\right)^C$, proving (a). 
\end{proof}

\subsection{Functions}
\begin{definition}
  Let $A, B$ be sets. A \emph{function} $f$ is a rule assigned to each $x \in A$ a corresponding unique element $f(x) \in B$. We denote \[f: A \to B.\]
\end{definition}
\begin{definition}
  The \emph{domain} of a function $f: A \to B$, denoted $\text{Dom}(f) = A$. The \emph{range} of $f$, denoted $\text{Ran}(f) = \{f(x) : x \in A\}$. Clearly, $\text{Ran}(f) \subseteq B$, though equality is not necessary.
\end{definition}
\begin{example}
  The function $f(x) = \sin x$, $f: \mathbb{R} \to [-1, 1]$. Here, $\text{Dom}(f) = \mathbb{R}$, and $\text{Ran}(f) = [-1, 1]$.
\end{example}
\begin{example}[Dirichlet Function]
  $f:\mathbb{R} \to \mathbb{R}$, $f(x) = \begin{cases}
    1, x \in \mathbb{Q}\\
    0, x \notin \mathbb{Q}
  \end{cases}$. Despite not having a true "explicit" formula, so to speak, this is still a valid function (under modern definitions).
\end{example}

\subsubsection{Properties of Functions}

\begin{proposition}
  Let $f: A \to B$, $C \subseteq A$, $f(C) = \{f(x) : x \in C\}$. We claim $f(C_1 \cup C_2) = f(C_1) \cup f(C_2)$.
\end{proposition}
\begin{proof}
  We will prove this by showing (1) $\subseteq$ and (2) $\supseteq$.

  \begin{itemize}
    \item[(1)] $y \in f(C_1 \cup C_2) \implies \text{ for some } x \in C_1 \cup C_2, y = f(x)$. This means that either for some $x \in C_1, y = f(x)$, or for some $x \in C_2, y = f(x)$. This implies that either $y \in f(C_1)$, or $y \in f(C_2)$, and thus $y$ \textit{must} be in their union, ie $y \in C_1 \cup C_2$.
    \item[(2)] $y \in f(C_1) \cup f(C_2) \implies y \in f(C_1)$ or $y \in f(C_2)$. This means that for some $x \in C_1, y = f(x)$, or for some $x \in C_2, y = f(x)$. Thus, $x$ \textit{must} be in $C_1 \cup C_2$, and for some $x \in C_1 \cup C_2, y = f(x) \implies y \in f(C_1 \cup C_2)$.
  \end{itemize}
  (1) and (2) together imply that $f(C_1 \cup C_2) = f(C_1)\cup f(C_2)$.
\end{proof}

\begin{example}\label{example:union}
  Let $A_n = 1, 2, \dots$ be a sequence of sets. Prove that $f(\bigcup_{n=1}^{\infty} A_n) = \bigcup_{n=1}^{\infty}f(A_n)$.
\end{example}
\begin{proof}
  Let $y \in f(\bigcup_{n=1}^\infty A_n)$. This implies that $\exists x \in \bigcup_{n=1}^\infty A_n$ s.t. $f(x) = y$. This implies that $x \in A_n$ for some $n$, and $y \in f(A_n)$ for that same "some" $n$, and thus $y$ must be in the union of all possible $f(A_n)$, ie $y \in \bigcup f(A_n)$. This shows $\subseteq$, use similar logic for the reverse.
\end{proof}

\begin{proposition}\label{prop:intersection}
  $f(C_1 \cap C_2) \subseteq f(C_1) \cap f(C_2)$
  \footnotemark
\end{proposition}
\footnotetext{NB: the reverse is not always true, ie these sets are not always equal; "lack" of equality is more "common" than not.}

\begin{proof}
  $y \in f(C_1 \cap C_2) \implies$ for some $x \in C_1 \cap C_2, y = f(x)$. This implies that for some $x \in C_1, y = f(x)$ \textbf{and} for some $x \in C_2, y = f(x)$. Note that this does \textit{not} imply that these $x$'s are the same, ie this reasoning is not reversible as in the previous union case. This implies that $y \in f(C_1)$ and $y \in f(C_2) \implies y \in f(C_1) \cap f(C_2)$.
\end{proof}

\begin{example}
  Prove that if $A_n, n = 1, 2, \dots$, $f(\bigcap_{n=1}^{\infty} A_n) \subseteq \bigcap_{n=1}^{\infty}f(A_n)$.
  \begin{proof}[Proof (Sketch)]
    Use the same idea as in \cref{example:union}, but, naturally, with intersections.
  \end{proof}
\end{example}

\begin{example}
  Take $f(x) = \sin x$, $A = \mathbb{R}, B = \mathbb{R}$, and take $C_1 = [0, 2 \pi], C_2 = [2 \pi, 4 \pi]$. Then, $f(C_1) = [-1,1]$, and $f(C_2) = [-1,1]$. But $C_1 \cap C_2 = \{2 \pi\}$; $f(\{2 \pi\}) = \{\sin 2 \pi\} = \{0\}$, and thus $f(C_1 \cap C_2) = \{0\}$, while $f(C_1) \cap f(C_2) = [-1,1]$, as shown in \cref{prop:intersection}.
\end{example}

\begin{definition}[Inverse Image of a Set]
  Let $f: A \to B$ and $D \subseteq B$. The \emph{inverse image} of $D$ by $F$ is denoted $f^{-1}(D)$\footnotemark and is defined as \[f^{-1}(D) = \{x \in A : f(x) \in D\}.\]
\end{definition}
\footnotetext{Note that this is \textbf{not} equivalent to the typical definition of an inverse \textit{function}; $f^{-1}$ may not exist}
\begin{example}
  $A = [0, 2 \pi], B = \mathbb{R}, f(x) = \sin x, D = [0,1]$. 
  
  $f^{-1}(D) = \{x \in A: f(x) \in D\} = \{x \in [0, 2 \pi] : \sin(x) \in [0,1]\} = [0,\pi]$.
\end{example}

\begin{proposition}\label{prop:intersectionsimple}
  Given function $f$ and sets $D_1, D_2$,
  \begin{itemize}
    \item[(a)] $f^{-1}(D_1 \cup D_2) = f^{-1}(D_1) \cup f^{-1}(D_2)$
    \item[(b)] $f^{-1}(D_1 \cap D_2) = f^{-1}(D_1) \cap f^{-1}(D_2)\footnotemark$ 
  \end{itemize}
\end{proposition}
\footnotetext{Just see next proposition; if you really need convincing, just use $2$ rather than $\infty$ as the upper limit of the unions/intersections and use the same proof.}

\begin{proposition}[$\textcolor{red}{\star}$]
  Let $A_n, n = 1,2,3 \dots$. Then, 
  \begin{itemize}
    \item[(a)] $f^{-1}(\bigcup_{n=1}^{\infty}A_n) = \bigcup_{n=1}^{\infty}f^{-1}(A_n)$
    \item[(b)] $f^{-1}(\bigcap_{n=1}^{\infty}A_n) = \bigcap_{n=1}^{\infty}f^{-1}(A_n)$
  \end{itemize}
\end{proposition}

\begin{proof}\footnotemark
  \begin{itemize}
    \item[(a)]
  \begin{align*}
    x \in f^{-1}(\bigcup_{n=1}^{\infty}A_n) &\iff f(x) \in \bigcup_{n=1}^\infty A_n\\
    & \iff f(x) \in A_n \text{ for some } n \in \mathbb{N}\\
    & \iff x \in f^{-1}(A_n) \text{ for some } n \in \mathbb{N}\\
    & \iff x \in \bigcup_{n=1}^\infty f^{-1}(A_n)
  \end{align*}
  \item[(b)]
  \begin{align*}
    x \in f^{-1}(\bigcap_{n=1}^{\infty}A_n) &\iff f(x) \in \bigcap_{n=1}^\infty A_n\\
    &\iff f(x) \in A_n \text{ for all } n \in \mathbb{N}\\
    &\iff x \in f^{-1}(A_n) \text{ for all } n \in \mathbb{N}\\
    &\iff x \in \bigcap_{n=1}^\infty f^{-1}(A_n)\footnotemark
  \end{align*}
  \end{itemize}
\end{proof}
\footnotetext{This is a "proof by definitions" as I like to call it.}
\footnotetext{Similar proof can be used to prove \cref{prop:intersectionsimple}, less generally.}

\begin{remark}
  $f: A \to B$, $A_1 \subseteq A$. Given $f(A_1^C)$ and $f(A_1)^C$, there is \textbf{no general relation} between the two.

  For instance, take $A = [0, 6 \pi], B = [-1, 2], C = [0, 2 \pi]$, and $f(x) = \sin x$. Then, $f(C) = [-1,1],$ and $f(C^C) = f([-1,0)) = [-1,1]$, but $f(C)^C = [-1,1]^C = (1,2]$, and $f(C^C) \neq f(C)^C$; in fact, these sets are disjoint.
  % VERIFY
\end{remark}

\begin{proposition}
  Let $f: A\to B$ and let $D \subseteq B$. Then $f^{-1} (D^C) = [f^{-1}(D)]^C$.
\end{proposition}
\begin{proof}
  \begin{align*}
    f^{-1}(D^C) &= \{x: f(x) \in D^C\} = \{x : f(x) \notin D\}\\
    [f^{-1}(D)]^C &= [\{x:f(x) \in D\}]^C = \{x : x \notin f^{-1}(D)\} = \{x : f(x) \notin D\}
  \end{align*}
\end{proof}

\subsection{Reals}
\begin{axiom}[Of Completeness]\label{axiom:ac}
  Any non-empty subset of $\mathbb{R}$ that is bound from above has at least one upper bound (also called the supremum).

  In other words; let $A \subseteq \mathbb{R}$ and suppose $A$ is bounded from above ($A$ has at a least upper bound). Then $\sup(A)$ exists.
\end{axiom}

Real numbers, algebraically, have the same properties as the rationals; we have addition, multiplication, inverse of non-zero real numbers, and we have the relation $<$. All together, $\mathbb{R}$ is an ordered field. 

\begin{definition}
  Let $A \subseteq \mathbb{R}$. A number $b \in \mathbb{R}$ is called an \textbf{upper bound} for $A$ if for any $x \in A$, $x \leq B$.

  A number $l \in \mathbb{R}$ is called a \textbf{lower bound} for $A$ if for any $x \in A$, $x \geq l$.
\end{definition}

\begin{definition}[The Least Upper Bound]
  Let $A \subseteq \mathbb{R}$. A real number $s$ is called the \textbf{least upper bound} for $A$ if the following holds:
  \begin{itemize}
    \item[(a)] $s$ is an upper bound for $A$
    \item[(b)] if $b$ is any other upper bound for $A$, then $s \leq b$.
  \end{itemize}

  The least upper bound of a set $A$ is \emph{unique}, if it exists; if $s$ and $s'$ are two least upper bounds, then by (a), $s$ and $s'$ are upper bound for $A$, and by (b), $s \leq s'$ and $s' \leq s$, and thus $s = s'$.

  This least upper bound is called the \emph{supremum} of $A$, denoted $\sup(A)$.
\end{definition}

\begin{definition}[The Greatest Lower Bound]
  Let $A \subset \mathbb{R}$. A number $i \in \mathbb{R}$ is called the \textbf{greatest lower bound} for $A$ if the following holds:
  \begin{itemize}
    \item[(a)] $i$ is a lower bound for $A$
    \item[(b)] if $l$ is any other lower bound for $A$, then $i \geq l$.
  \end{itemize}
  If $i$ exists, it is called the \emph{infimum} of $A$ and is denoted $i = \inf(A)$, and is unique by the same argument used for $\sup(A)$.
\end{definition}

\begin{proposition}\label{prop:supepsilon}
  Let\footnotemark $A \subseteq \mathbb{R}$ and let $s$ be an upper bound for $A$. Then $s = \sup(A)$ iff for any $\varepsilon>0$, there exists $x \in A$ s.t. $s- \varepsilon < x$.
\end{proposition}
\footnotetext{Note that this, and \cref{prop:infepsilon} that follows, are \textit{not} definitions: they are restatements, and do technically require proof.}
\begin{proof}
  We have two statements:
  \begin{enumerate}
    \item[I.] $s = \sup(A)$;
    \item[II.] For any $\epsilon > 0$, $\exists x \in A$  s.t. $s - \epsilon < x$;
  \end{enumerate}
  and we desire to show that I $\iff$ II.
  \begin{itemize}
    \item I $\implies$ II: Let $\epsilon > 0$. Then, since $s = \sup(A)$, $s - \epsilon$ \textit{cannot} be an upper bound for $A$ (as $s$ is the least upper bound, and thus $s - \epsilon < s$ cannot be an upper bound at all). Thus, there exists $x \in A$ such that $s - \epsilon < x$, and thus if I holds, II must hold.
    \item II $\implies$ I: suppose that this does not hold, ie II holds for an upper bound $s$ for A, but $s \ne \sup(A)$. Then, there exists some upper bound $b$ of $A$ s.t. $b < s$. Take $\epsilon = s - b$. $\epsilon > 0$, and since II holds, there exists $x \in A$ such that $s - \epsilon < x$. But since $s - \epsilon = b$ and thus $b<x$, then $b$ cannot be an upper bound for $A$, contradicting our initial condition. So, if II $\implies$ I does \textit{not} hold, we have a "impossibility", ie a value $b$ which is an upper bound for $A$ which cannot be an upper bound, and thus II $\implies$ I.
  \end{itemize}
\end{proof}

\begin{proposition}[$\textcolor{red}{\star}$]\label{prop:infepsilon}
  Let $A \subseteq \mathbb{R}$ and let $i$ be a lower bound for $A$. Then $i = \inf(A) \iff$ for every $\epsilon > 0$ there exists $x \in A$ s.t. $x < i + \epsilon$.\footnotemark
\end{proposition}
\footnotetext{Use similar argument to proof of previous proposition.}

\begin{remark}\label{remark:negativesupinf}
\cref{axiom:ac} can also be expressed in terms of infimum. Define $-A = \{-x : x \in A\}$. Then, if $b$ is an upper bound for $A$, then $b \geq x \forall x \in A$, then $-b \leq -x \forall x \in A$, ie -b is a lower bound of $-A$. Similarly, if $l$ is a lower bound for $A$, $-l$ is an upper bound for $-A$.

Thus, if $A$ is bounded from above, then \[-\sup(A) = \inf(-A),\] and if $A$ is bounded from below, \[-\inf(A) = \sup(-A).\]
\end{remark}

\begin{axiom}[AC (infimum)]
  Let $A \subseteq \mathbb{R}$; if $A$ bounded from below, $\inf(A)$ exists.
\end{axiom}

\begin{definition}[$\max$, $\min$]
  Let $A \subseteq \mathbb{R}$. An $M \in A$ is called a \emph{maximum} of $A$ if for any $x \in A$, $x \leq M$. $M$ is an upper bound for $A$, \textbf{but also} $M \in A$.

  If $M$ exists, then $M = \sup(A)$; $M$ is an upper bound, and if $b$ any other upper bound, then $b \geq M$, because $M \in A$, and thus $M = \sup(A)$.

  NB: $M = \max(A)$ \textbf{need not} exist, while $\sup(A)$ must exist. Consider $A = [0,1)$; $\sup(A) = 1$, but there exists no $\max(A)$.

  The same logic exists for the existence of minimum vs infimum (consider $(0,1)$, with no maximum nor minimum).
\end{definition}

\begin{theorem}[Nested interval property of $\mathbb{R}$]\label{thm:nestedinterval}
  Let $I_n = [a_n, b_n] = \{x : a_n \leq x \leq b_n\}, n  = 1,2,3 \dots$ be an infinite sequence of bounded, closed intervals s.t. \[I_1 \supseteq I_2 \supseteq I_3 \supseteq \dots I_n \supseteq I_{n+1} \supseteq \dots \]
  Then, $\bigcap_{n=1}^\infty I_n \neq \varnothing$ (note that this does \emph{not} hold in $\mathbb{Q}$).
\end{theorem}
\begin{proof}\footnote{Sketch: show that the left-end points are increasing and the right-end points are decreasing. Show either that all the left-end points are bounded from above or that all the right-end points are bounded from below. As a result, there exists a sup/inf (depending on which end you choose) of the set of all the right/left points. For the sup case, all upper bounds must be $\geq$ sup, and thus the sup is in all $I_n$, and thus in their intersect, and thus the intersect is not empty.}
  We have $I_n = [a_n, b_n], I_{n+1} = [a_{n+1}, b_{n+1}], \dots$. And the inclusion $I_n \supseteq I_{n+1}$. $a_n \leq a_{n+1} \leq b_{n+1} \leq b_{n}, \forall n \geq 1$. So, the sequence $a_n$ (left-end) is increasing, and the sequence $b_n$ (right-end) is decreasing. 
  
  We also have that for any $n, k \geq 1$, $a_n \leq b_k$. We see this by considering two cases:
  \begin{itemize}
    \item Case 1: $n \leq k$, then $a_n \leq a_k$ (as $a_n$ is increasing), and thus $a_n \leq a_k \leq b_k$.
    \item Case 2: $n > k$, then $a_n \leq b_n \leq b_k$ (again, as $b_n$ is decreasing). 
  \end{itemize}
  Let $A = \{a_n : n \in \mathbb{N}\}$. Then, $A$ is bounded from above by \emph{any} $b_k$ (as in our inequality we showed above). Let $x = \sup(A)$, which must exist by \cref{axiom:ac}.

  Note that as a result, \(x \geq a_n\) for all $n$, and for all $k$, \(x \leq b_k,\) as $x$ is the lowest upper bound and must be $\leq$ all other upper bounds, and so for all $n \geq 1$, $a_n \leq x \leq b_n$, ie $x \in I_n \forall n \geq 1$, and thus $x \in \bigcap_{n=1}^{\infty} I_n$ and so $\bigcap_{n=1}^{\infty} \neq \varnothing$.
\end{proof}

\begin{remark}
  The proof above emphasized the left-end points; it can equivalently be proven via the right-end points, and using $y=\inf(\{b_n : n \in \mathbb{N}\}) = \inf(B)$, rather than $\sup(A)$, and showing that $y \in \bigcap I_n$.
\end{remark}

\begin{remark}[$\textcolor{red}{\star}$]
  Note too that, if $x = \sup(A)$ and $y = \inf(B)$, then $x, y \in \bigcap_{n=1}^\infty I_n$; in fact, $\bigcap_{n=1}^\infty I_n = [x,y]$. This can be done by
  \begin{itemize}
    \item Use the main proof to show $x \in \bigcap I_n$
    \item Use the previous remark to show $y \in \bigcap I_n$
    \item Show $x \leq y \implies [x,y] \subseteq \bigcap I_n$
    \item Show $\bigcap I_n \subseteq [x,y] \implies $ equality.
  \end{itemize}
\end{remark}

\begin{remark}
  The intervals $I_n$ \emph{must} be closed; if not, eg $I_n = (0, \frac{1}{n})$, then $\bigcap_{n=1}^\infty I_n = \varnothing$. \\Say $\bigcap I_n \neq \varnothing$; take then some $x \in \bigcap I_n$. Then, $x \in (0, \frac{1}{n}) \forall n \in \mathbb{N}$. But by \cref{prop:archimedean}, $\forall x \in \mathbb{R}$, $\exists N \in \mathbb{N} \st \frac{1}{N} < x$. Clearly, $x$ must be greater than $0$ to exist in the intersection; hence, there will always exist some sufficiently large $N$ such that $\frac{1}{N} < x \implies x \notin (1, \frac{1}{N}) \implies x \notin \bigcap I_n \implies \bigcap I_n = \varnothing$.
\end{remark}

\subsection{Density of Rationals in Reals}

\begin{proposition}[Archimedean Property]\label{prop:archimedean}
  \begin{itemize}
    \item[(a)] For any $x \in \mathbb{R}$, there exists a natural number $n$ s.t. $n > x$.
    \item[(b)] For any $y \in \mathbb{R}$ satisfying $y > 0$, $\exists n \in \mathbb{N}$ such that $\frac{1}{n} < y$.
  \end{itemize}
\end{proposition}
\begin{remark}
  (a) states that $\mathbb{N}$ is not a bounded subset of $\mathbb{R}$.

\end{remark}
  
\begin{remark}
  (b) follows from (a) by taking $x = \frac{1}{y}$ in (a), then $\exists n\in \mathbb{N}$ s.t. $n > \frac{1}{y} \implies \frac{1}{n} < y$, and thus we need only prove (a).
\end{remark}

\begin{remark}
  Recall that $\mathbb{Q}$ is an ordered field (operations $+, \cdot$ and a relation $<$). $\mathbb{Q}$ can be extended to a larger ordered field with extended definitions of these operations/relations, such that it contains elements that are larger than any natural numbers (ie, not bounded above). This is impossible in $\mathbb{R}$ due to AC.
\end{remark}

\begin{proof}
   Suppose (a) not true in $\mathbb{R}$, ie $\mathbb{N}$ is bounded from above in $\mathbb{R}$. Let $\alpha = \sup \mathbb{N}$, which exists by AC.

   Consider $\alpha - 1$; since $\alpha - 1 < \alpha$, $\alpha - 1$ is not an upper bound of $\mathbb{N}$. So, there exists some $n \in \mathbb{N}$ s.t. $\alpha - 1 < n$; then, $\alpha < n+ 1$ where $n+1 \in \mathbb{N}$, and thus $\alpha$ is also not an upper bound, as there exists a natural number that is greater than $\alpha$. This contradicts the assumption that $\alpha = \sup \mathbb{N}$, so (a) must be true.
\end{proof}

\begin{theorem}[Density]
  Let $a,b \in \mathbb{R}$ s.t. $a < b$. Then, $\exists x \in \mathbb{Q}$ s.t. $a < x < b$.
\end{theorem}

\begin{remark}
  If you take $a \in \mathbb{R}$ and $\epsilon > 0$, then by the theorem, $\exists x \in \mathbb{Q}$ where $x \in (a - \epsilon, a + \epsilon)$. So any real number can be approximated arbitrarily closely (via choose of $\epsilon$) by a rational number.
\end{remark}

\begin{proof}
  Since $b - a > 0$, by (b) of \cref{prop:archimedean}, $\exists n \in \mathbb{N}$ s.t. $\frac{1}{n} < b -a$, ie $na + 1 < nb$.

  Let $m \in \mathbb{Z}$ s.t. $m - 1 \leq na < m$. Such an integer must exists since $\bigcup_{m \in \mathbb{Z}} [m-1, m) = \mathbb{R}$, the family $[m-1,m), m \in \mathbb{Z}$ makes partitions of $\mathbb{R}$. Then, $na < m$ gives that $a < \frac{m}{n}$. On the other hand, $m -1 \leq na$ gives $m \leq na+1 < nb$. So $\frac{m}{n} < b$ and it follows that $\frac{m}{n}$ satisfies $a < \frac{m}{n} < b$.
\end{proof}

In the proof, we used the claim:

\begin{proposition}
  If $z \in \mathbb{R}$, then there exists $m \in \mathbb{Z}$ s.t. $m - 1 \leq z < m$.
\end{proposition}

\begin{proof}
  Let $S$ be a non-empty subset of $\mathbb{N}$. Then $S$ has the least element; $\exists m \in S$ s.t. $m \leq n, \forall n \in S$.

  We can assume $z \geq 0$; if $0 \leq z < 1$, then we are done (take $m = 1$), and assume that $z \geq 1$. Let now $S = \{n \in \mathbb{N} : z < n\}$, $\neq \varnothing$ by \cref{prop:archimedean}, (a). Let $m$ be the least element of $S$. It exists by Well-Ordering Property; then, since $m \in S$, $z < m$. But, we also have $m - 1 \leq z$, otherwise, if $z < m-1$ then $m - 1 \in S$ and then $m$ is not the least element of $S$. Thus, we have $m -1 \leq z < m$, as required.
\end{proof}

\begin{theorem}
  The set $J$ of irrationals is also dense in $\mathbb{R}$. That is, if $a,b \in \mathbb{R}, a < b$, $\exists$ irrational $y$ s.t. $a < y < b$ (noting that $J = \mathbb{R} \setminus \mathbb{Q}$).
\end{theorem}

\begin{proof}
  Fix $y_0 \in \mathbb{J}$. Consider $a - y_0$, $b - y_0$. $a - y_0 < b - y_0$, and by density of rationals, $\exists x \in \mathbb{Q}$ s.t. $a - y_0 < x < b - y_0$. Then, $a < y_0 + x < b$; let $y = x+y_0$, and we have $a < y < b$.

  Note that $y$ cannot be rational; if $y \in \mathbb{Q}$, $y = x + y_0 \implies y - x = y_0$, and since $x \in \mathbb{Q}$, $y - x \in \mathbb{Q} \implies y_0 \in \mathbb{Q}$, contradicting the original choice of $y_0 \notin \mathbb{Q}$. Thus, $y \in J$.
\end{proof}

\begin{theorem}
  $\exists$ a unique positive real number $\alpha$ s.t. $\alpha^2 = 2$.
\end{theorem}

\begin{proof}

  \begin{itemize}
    We show both uniqueness, existence:\footnotemark
    \item Uniqueness: if $\alpha^2 = 2$ and $\beta^2 = 2$, $\alpha \geq 0, \beta \geq 0$, then $0= \alpha^2 - \beta^2 = (\alpha - \beta)(\alpha + \beta) > 0$, and so $\alpha - \beta = 0 \implies \alpha = \beta$.
    \item Existence: consider the set $A = \{x \in \mathbb{R} : x \geq 0 \text{ and } x^2 < 2\}$. $A$ is not empty as $1 \in A$. The set of $A$ is bounded above by 2, since if $x \geq 2$, then $x^2 \geq 4 > 2$, so $x \notin A$. So, by AC, $\sup A$ exists; let $\alpha = \sup A$. We will show that $\alpha^2 = 2$, by showing that both $\alpha^2 < 2$ and $\alpha^2 > 2$ are contradictions.
    
    \begin{itemize}[label=]
      \item $\alpha^2 < 2$
    
      For any $n \in \mathbb{N}$ we expand \[\left(\alpha + \frac{1}{n}\right)^2 = \alpha^2 + \frac{2\alpha}{n} + \frac{1}{n^2} \leq \alpha^2 + \frac{2 \alpha + 1}{n},\] noting that $\frac{1}{n^2} \leq \frac{1}{n}$ for $n \geq 1$.

      Let $y = \frac{2 - \alpha^2}{2\alpha + 1}$, which is strictly positive. By \cref{prop:archimedean}, $\exists n_0 \in \mathbb{N}$ s.t. \[\frac{1}{n_0} < \frac{2-\alpha^2}{2\alpha + 1} \text{ or } \frac{2\alpha + 1}{n_0} < 2 - \alpha^2.\] Substituting this $n_0$ into our inequality, we have \[\left(\alpha + \frac{1}{n_0}\right)^2 \leq \alpha^2 + \frac{2 \alpha + 1}{n_0} < \alpha^2 + 2 - \alpha^2 = 2.\] Since $\alpha + \frac{1}{n_0}$ is positive, $\alpha + \frac{1}{n_0} \in A$. But, since $\alpha = \sup A$, $\alpha + \frac{1}{n_0} \leq \alpha$, which is impossible, so $\alpha^2 < 2$ cannot be true.
      \item $\alpha^2 > 2$
      
      Take $n \in \mathbb{N}$; \[\left(\alpha - \frac{1}{n}\right)^2 = \alpha^2 - \frac{2\alpha}{n} + \frac{1}{n^2} > \alpha^2 - \frac{2\alpha}{n}.\] Now, let $y = \frac{\alpha^2 - 2}{2\alpha}$; $y > 0$, and by \cref{prop:archimedean}, $\exists n_0 \in \mathbb{N}$ s.t. \[\frac{1}{n_0} < \frac{\alpha^2 - 2}{2 \alpha}, \text{ or } \frac{2\alpha}{n_0} < \alpha^2 - 2.\] Substituting this $n_0$, we have \[\left(\alpha - \frac{1}{n_0}\right)^2 > \alpha^2 - \frac{2 \alpha}{n_0} > \alpha^2 + 2 - \alpha^2 = 2.\] So for any $x \in A$, we have $\left(\alpha- \frac{1}{n_0}\right)^2 > 2 > x^2$. $\alpha - \frac{1}{n_0}> 0$, and $x > 0$, since $x \in A$. Then, $\left(\alpha - \frac{1}{n_0}\right)^2 > x^2$ gives that $\alpha - \frac{1}{n_0}>x$.

      So, $\alpha - \frac{1}{n_0} > x$ for all $x \in A$. So $\alpha - \frac{1}{n_0}$ is an upper bound for $A$, but since $\alpha = \sup A$, $\alpha - \frac{1}{n_0} \geq \alpha$ ie $\alpha \geq \alpha + \frac{1}{n_0}$, which is impossible. So $\alpha^2 > 2$ cannot be true.
    \end{itemize}

    Thus, $\alpha^2 = 2$.
  \end{itemize}
\end{proof}

\footnotetext{Proof sketch: uniqueness is clear. Existence follows from showing that $\alpha^2$ cannot be either $<$ or $> 2$. This is done by contradiction, taking some number slightly larger/smaller than $\alpha$ for the $</>$ resp., then showing that this number cannot be greater/less than $\alpha$. In the $<$ case, we show that $\alpha + \frac{1}{n_0}$ for a particular $n_0$ must be in $A$, and so $\alpha$ cannot be $\sup A$ and thus a contradiction is reached. For the $>$ case, we need slightly different logic (really, more algebra), and get to another contradiction, this time by showing that $\alpha - \frac{1}{n_0}$ is an upper bound for $A$ by our assumption, contradicting.}

\begin{remark}
  A similar argument gives that for any $x \in \mathbb{R}$, $x \geq 0$, $\exists! \alpha \in \mathbb{R}$, $\alpha \geq 0$ such that $\alpha^2 = x$. This $x$ is called the \emph{square root} of $x$, denoted $\alpha = \sqrt{x}$.
\end{remark}

\begin{remark}
  For any natural number $m \geq 2$ and $x \geq 0$, $\exists ! \alpha \in \mathbb{R}, \alpha \geq 0$ s.t. $\alpha^m = x$. The proof is similar, and we call $\alpha$ the $m$-th root of $x$.
\end{remark}

\begin{remark}
  Our last proof also gives that $\mathbb{Q}$ cannot satisfy AC. Suppose it does, ie any set in $\mathbb{Q}$ bounded from above has a supremum $\in \mathbb{Q}$. Then, consider $B = \{x \in \mathbb{Q} : x \geq 0 \text{ and } x^2 < 2\}$; set $\alpha = \sup B$. The exact same proof can be used, but we will not be able to find an upper bound in $\mathbb{Q}$.
\end{remark}


\subsection{Cardinality}

\begin{definition}
  Let $f: A \to B$.
  \begin{enumerate}
    \item $f$ injective (one-to-one) if $a_1 \neq a_2 \implies f(a_1) \neq f(a_2)$
    \item $f$ surjective (onto) if for any $b \in B \exists a \in A $ s.t. $f(a) = b$.
    \item $f$ bijective if both.
  \end{enumerate}
\end{definition}

\begin{definition}[Composition]
  If $f: A \to B, g: B \to C$, the \emph{composite map} $h = g \circ f$ is define by $h(x) = g(f(x))$. Note that $h: A \to C$.
\end{definition}

\begin{example}
  Consider functions $f,g$.
  \begin{enumerate}
    \item If $f, g$ injective, so is $h = g \circ f$
    \item If $f, g$ bijective, then so is $h$
    \item If $\exists E \subseteq C$, then $h^{-1}(E)= f^{-1}(g^{-1}(E))$
  \end{enumerate}  
\end{example}

\begin{definition}
  The inverse function\footnotemark is defined only for bijective map $f: A \to B$. $y \in B$, $f^{-1}(y) = x$ where $x \in A$ s.t. $f(x) = y$.
\end{definition}

\footnotetext{Not the same as the inverse \textit{image} of a set by a function, which is defined for any function.}

\begin{example}
  \begin{enumerate}
    \item $A = \mathbb{R}, B = (0, \infty),f(x) = e^x$. $f$ is a bijection, and $f^{-1}(y) = \ln y, y \in (0, \infty).$
    \item $A = (-\frac{\pi}{2}, \frac{\pi}{2}, B = \mathbb{R})$. $f(x) = \tan x$, $f^{-1}(y) = \arctan y$
  \end{enumerate}
\end{example}

\begin{definition}[Equal Cardinalities]
  Let $A,B$ be two sets. We say $A, B$ have the same cardinality, denote $A \sim B$ if there exists a bijective function $f: A \to B$.
\end{definition}

\begin{example}
  Let $E = \{2, 4, 6, \dots\}$ (even natural numbers). Define $f : \mathbb{N} \to E$ by $f(n) = 2n$. Thus, $f$ is a bijection, and $\mathbb{N} \sim E$.\footnotemark
\end{example}

\footnotetext{See \href{https://notes.louismeunier.net/Algebra/algebra.pdf}{these independent notes} for more.}

\begin{theorem}
  The relation $\sim$ is a relation of equivalence.
  \begin{enumerate}
    \item $A \sim A$
    \item if $A \sim B$, then $B \sim A$
    \item if $A \sim B$ and $B \sim C$, then $A \sim C$
  \end{enumerate}
\end{theorem}

\begin{definition}[Countable]
  A set $A$ is \emph{countable} if $\mathbb{N} \sim A$.
\end{definition}

\begin{remark}
  According to this, finite sets are not countable; this is just a convention. Sometimes, we say a set is countable if it is finite \textit{or} to above definition holds, where we say that a set is \emph{countably infinite} if it is infinite and countable.

  Other times, finite sets are treated separately than countable sets.
\end{remark}

\begin{theorem}\label{thm:basicfactI}
  Suppose that $A \subseteq B$.
  \begin{enumerate}
    \item If $B$ is finite or countable, then so is $A$
    \item If $A$ is infinite and uncountable, then so is $B$
  \end{enumerate}
\end{theorem}

\begin{definition}[Cartesian Product]
  If $A, B$ sets, $A \times B = \{(a,b) :a,b \in A,B\}$.
\end{definition}

\begin{proposition}\label{prop:basicfactII}
  $\mathbb{N}\times \mathbb{N} \sim \mathbb{N}$; there exists a bijection $f: \mathbb{N} \times \mathbb{N} \to \mathbb{N}$.
\end{proposition}

\begin{proposition}\label{prop:equivcountable}
  Let $A$ be a set. The following are equivalent statements:
  \begin{enumerate}[label=(\alph*)]
    \item $A$ is finite or a countable set;
    \item there exists a surjection from $\mathbb{N}$ onto $A$;
    \item there exists a injection from $A$ into $\mathbb{N}$.
  \end{enumerate}
\end{proposition}

\begin{proof}
  We proceed by proving that each statement implies the next (and thus are equivalent).
  \begin{itemize}
    \item  (a)$ \implies$ (b): Suppose $A$ is finite and has $\mathbb{N}$ elements. Then there exists a bijection $h :\{1,2,\dots n\} \to A$. We now define a map $f: \mathbb{N} \to A$, by setting $$f(m) = \begin{cases}
      h(m) & \text{if } m \leq n\\
      h(n) & \text{if } m > n
    \end{cases}.$$
    $f$ is surjective, and thus (b) holds.
    If (a) countable, $\exists$ bijection $f : \mathbb{N} \to A$, and any bijection is a surjection, so (b) also holds.
    \item (b) $\implies$ (c): Let $h: \mathbb{N} \to A$ be a surjection, whose existence is guaranteed by (b). Then, for any $a \in A$, the set $$h^{-1}(\{a\}) = \{m \in \mathbb{N}: h(m) = n\} \neq \varnothing,$$ since $h$ is a surjection. Then, by the well-ordering property of $\mathbb{N}$, the set $h^{-1}(\{a\})$ has a least element.\\
    If $n$ is the least element of $h^{-1}(\{a\})$, we set $f(a) = $. This defines a function \[f: A \to \mathbb{N},\] and we aim to show that $f$ is injective, ie that $f(a_1) = f(a_2) \implies a_1 = a_2$.\\
    Suppose $f(a_1) = f(a_2) = n$. Then, $n$ is the least element of $h^{-1}(\{a_1\})$ and of $h^{-1}(\{a_2\})$, and in particular, $h(n) = a_1$ and $h(n) = a_2$, and thus $a_1 = a_2$ and so $f$ is indeed injective.

    \item (c) $\implies$ (a): Let $f: A \to \mathbb{N}$ be an injection, whose existence is guaranteed by (c). Consider the range of $f$, ie \[f(A) = \{f(a) : a \in A\}.\] Since $f$ an injection, $f$ is a bijection between $A$ and $f(A)$.\\
    Otoh, $f(A) \subseteq \mathbb{N}$, and so by \cref{thm:basicfactI}, $f(A)$ is either finite or countable, and there exists a bijection between $A$ and some set that is either fininte or countable. Thus, $A$ must also be finite or countable, and so (a) holds.
  \end{itemize}
\end{proof}

\begin{theorem}\label{thm:infiniteunion}
  Let $A_n, n = 1,2,\dots$ be a sequence of sets such that each $A_n$ is either finite or countable. Then, their union \[A = \bigcup_{n=1}^\infty A_n\] is also either finite or countable.
\end{theorem}

\begin{proof}
  We will use (a) $\iff$ (b) from \cref{prop:equivcountable} to prove this.

  Since each $A_n$ finite or countable, by (a) $\implies$ (b), there exists a surjection $$\varphi_n: \mathbb{N} \to A_n.$$ Now, let $h: \mathbb{N} \times \mathbb{N} \to A,$ (the union) by setting \[h(n,m) = \varphi_n(m).\] We aim to show that $h$ is also surjective.\\ If $a \in \bigcup_{n=1}^\infty A_n$, then $a \in A_n$ for some $n \in \mathbb{N}$. Since $\varphi_n : \mathbb{N} \to A_n$ is a surjection, there exists an $m \in \mathbb{N}$ s.t. $\varphi_n(m) = a$. By definition of $h$, we have \[h(n,m) = a,\] and thus $h$ is a surjection.

  By \cref{prop:basicfactII}, there exists a bijection $f: \mathbb{N} \to \mathbb{N} \times \mathbb{N}$, and we can define the composite map \[h \circ f : \mathbb{N} \to A\,(= \cup_{n=1}^\infty A_n),\] which is a surjection as both $h,f$ are surjections. So, there exists a surjection from $\mathbb{N} \to A$, and by \cref{prop:equivcountable}, (b) $\implies$ (a), and thus $A = \bigcup_{n=1}^\infty A_n$ is also finite or countable.

\end{proof}

\begin{remark}
  If $A = \bigcup_{n=1}^\infty A_n$, where each $A_n$ is either finite or countable, and at least one $A_n$ is countable, then $A$ is countable.
\end{remark}

\begin{remark}
  If $A_1, \dots,  A_n$ are finitely many finite or countable sets then their union $A_1 \cup \cdots \cup A_n$ is also finite or countable (essentially just previous proof where we use $n$ instead of $\infty$ for the upper limit of the union...). 
\end{remark}

\begin{theorem}\label{thm:countablerationals}
  The set $\mathbb{Q}$ of rational numbers is countable.
\end{theorem}

\begin{proof}
  We write $$\mathbb{Q}= A_0 \cup A_1 \cup A_2,$$ where $A_0 = \{0\}, A_1 = \{\frac{m}{n} : m,n \in \mathbb{N}\}$, and $A_2 = \{- \frac{m}{n}: m,n \in \mathbb{N}\}$.\\
  Let us show that $A_1$ is countable; define $$h: \mathbb{N} \times \mathbb{N} \to A_1, f(m,n) = \frac{m}{n}.$$ $h$ is clearly a surjection; if $f : \mathbb{N} \to \mathbb{N} \times \mathbb{N}$ is a bijection, then by \cref{prop:basicfactII}, $h \circ f : \mathbb{N} \to A_1$ is a surjection. By \cref{prop:equivcountable}, $A_1$ is countable.\\
  We prove that $A_2$ countable in essentially the same way.\\
  Then, $A_0 \cup A_1 \cup A_2$ is also countable, as it is the union of countable sets, and thus $\mathbb{Q}$ is also countable.
\end{proof}
\newpage
\begin{theorem}
  The set $\mathbb{R}$ of real numbers is uncountable.\footnotemark
\end{theorem}
\footnotetext{Proof sketch: by contradiction. Assume that a bijection exists, and show that it cannot be a surjection by the previous props/thms. Specifically, carefully construct nested intervals $I_n$, for which $x_i \notin I_i$, and then show that the intersection of all these intervals is empty, contradicting the nested interval property of the real line.\\See pg. 25 of Abbott's Analysis for a more concise proof in the same language.}
\begin{proof}
  We will argue by contradiction; suppose $\mathbb{R}$ is countable, then show that the nested interval property (\cref{thm:nestedinterval}) of the real line fails.\\
  Let $f: \mathbb{N} \to \mathbb{R}$ be a bijection, setting $f(1) = x_1, f(2) = x_2, \dots, f(n) = x_n, \dots$; we can then list the elements of $\mathbb{R}$ as $\mathbb{R} = \{x_1, x_2, x_3, \dots, x_n, \dots\}$.\\
  We can now construct a sequence $I_n, n \in \mathbb{N}$ of bounded, closed intervals, such that $I_1$ does not contain $x_1$.\\ If $x_2 \notin I_1$, then $I_2 = I_1$. If $x_2 \in I_1$, then divide $I_1$ into four equal closed intervals.\\
  Call the leftmost/rightmost of these intervals $I_1'$ and $I_1''$ respectively. We know that $x_2 \in I_1$, so we must have that either $x_2 \notin I_1'$ or $x_2 \notin I_1''$ If $x_2 \notin I_1'$, then $I_2 = I_1'$. If $x_2 \notin I_1''$, then $I_2 = I_1''$.\\
  Thus, we have constructed $I_1, I_2$ s.t.\[I_1 \supseteq I_2 \text{ and } x_1 \notin I_1,x_2 \notin I_2.\] Consider $x_3$; if $x_3 \notin I_2$, then $I_3 = I_2$. If $x_3 \in I_2$, we repeat the "dividing" process as before. Since $x_3 \in I_2$, either $x_3 \notin I_2'$ or $x_3 \notin I_2''$. If $x_3 \notin I_2'$, $I_3 = I_2'$. Else, if $x_3 \notin I_2''$, $I_3 = I_2''$.\\
  We have now that \[I_1 \supseteq I_2 \supseteq I_3 \text{ and } x_1 \notin I_1, x_2 \notin I_2, x_3 \notin I_3,\] and we can continue this construction to obtain an infinite sequence of bounded, closed intervals $I_n$ s.t. $$I_1 \supseteq I_2 \supseteq \cdots \supseteq I_n \supseteq I_{n+1} \supseteq \cdots,$$ and for each $n$, $x_n \notin I_n$.\\
  Consider the intersection of all these $I_n$'s,$$\bigcap_{n=1}^\infty I_n.$$ For every $m$, $x_m \notin I_m$, so for every $m \in \mathbb{N}, x_m \notin \bigcap_{n=1}^\infty I_n$, and so $\mathbb{R} = \{x_1, x_2, \dots x_m, \dots\}$ has an empty intersection with this intersection, ie
  $$\mathbb{R} \cap \left( \bigcap_{n=1}^\infty I_n \right) = \varnothing.$$ Otoh, $\bigcap_{n=1}^\infty I_n \subseteq \mathbb{R}$, so we must have that $\bigcap_{n=1}^\infty I_n = \varnothing$ contradicting the nested interval property of the real line which states that this intersection must not be empty. We thus have a contradiction, and our assumption that $\mathbb{R}$ countable fails. \footnotemark
\end{proof}
\footnotetext{Note that \cref{thm:nestedinterval} is built upon the Axiom of Completeness, a "fact" of $\mathbb{R}$ (what makes it "distinct" from $\mathbb{Q}, \mathbb{N}$, etc). Thus, we are really just using AC, with some abstractions sts.}
% TODO: add proof sketch
\begin{proposition}
  The set $J$ of all irrational numbers in $\mathbb{R}$ is uncountable.
\end{proposition}

\begin{proof}
  We have that $\mathbb{R} = \mathbb{Q} \cup J$. If $J$ countable, then $\mathbb{R}$ would also be countable as the union of two countable sets (as we showed $\mathbb{Q}$ countable in \cref{thm:countablerationals}). $\mathbb{R}$ uncountable, so $J$ is also uncountable.
\end{proof}

\begin{proposition}
  The set $(-1,1) \subseteq \mathbb{R}$ is uncountable.
\end{proposition}

\begin{proof}
  We can write $\mathbb{R} = \bigcup_{n=1}^\infty (-n,n)$. If each $(-n,n)$ is countable, then $\mathbb{R}$ would also be countable, as a countable union of countable sets. Thus, there must exist some $n_0 \in \mathbb{N} \text{ s.t. } (-n_0, n_0)$ is not countable. The map\[f: (-n_0, n_0) \to (-1,1), f(x) = \frac{x}{n_0}\] is a bijection, and so $(-1,1)$ is uncountable.
\end{proof}

\begin{example}
  Show that the map \[f(x) = \frac{x}{1-x^2}\] is a bijection between $(-1,1)$ and $\mathbb{R}$ ie $(-1,1) \sim \mathbb{R}$.
\end{example}

\begin{proof}
  Surjection is fairly trivial (if stuck, consider the graph of the function).\\Injection; given $f(x) = f(y)$ where $x,y \in (-1,1)$,\begin{align*}
    \frac{x}{1-x^2} = \frac{y}{1-y^2}\\
    x -xy^2 = y - yx^2\\
    x-y = xy^2 - yx^2 = xy(y - x)\\
    x-y = -xy(x-y)\\
    \implies -xy = 1 \implies xy = -1, \text{ or } x - y = 0
  \end{align*}
  $xy = -1$ is impossible given the domain of the function, hence $x -y = 0 \implies x = y$, as desired.
\end{proof}



\begin{proposition}
  Any bounded non-empty open interval $(a,b) \in \mathbb{R}$ is uncountable.
\end{proposition}

\begin{proof}
  We will construct a bijection $f: (a,b) \to \mathbb{R}$ so that $(a,b) \sim \mathbb{R}$. Since $\mathbb{R}$ is  uncountable, so must $(a,b)$. 
  
  The map \[f(x)=\frac{2(x-a)}{b-a} - 1\] is a bijection between $(a,b)$ and $(-1,1)$, and we have shown that $(-1,1) \sim \mathbb{R}$, so $(a,b) \sim \mathbb{R}$, and thus any open interval has the same cardinality as $\mathbb{R}$.
\end{proof}

\begin{example}
  Prove that $\exists$ bijection between $[0,1)$ and $(0,1)$, and conclude that $[0,1) \sim (0,1) \sim \mathbb{R}$. Then conclude for any $a < b$, $[a,b) \sim \mathbb{R}$.

\end{example}

\subsubsection{Power Sets}
\begin{definition}[Power Set]
  Let $A$ be a set. The \emph{power set} of $A$m denoted $\mathcal{P}(A)$ is the collection of all subsets of $A$.

  Generally, if $A$ finite of size $n$, $\mathcal{P}(A)$ has $2^n$ elements.
\end{definition}

\begin{theorem}[Cantor Power Set Theorem]
  Let $A$ be any set. Then there exists no surjection from $A$ onto $\mathcal{P}(A)$. \footnotemark
\end{theorem}

\footnotetext{Certified Classic}

\begin{proof}
  Suppose that there exists a surjection, \[f: A \to \pset{A}.\] Let $D \subseteq A$ defined as \[D = \{a \in A: a \notin f(a)\}.\] Since $D \subseteq \pset{A}$, and $f$ is surjective, there must exist some $a_0 \in A \st f(a_0) = D$.\\
  We have two cases:
  \begin{enumerate}
    \item $a_0 \in D.$ But then, by definition of $D$, $a_0 \notin f(a_0) = D$, so $a_0 \in D$ is not possible as it implies $a_0 \notin D$.
    \item $a_0 \notin D.$ But then, since $D = f(a_0)$, $a_0 \notin f(a_0)$, and so by definition of $D$, $a_0 \in D$, which is again not possible.
  \end{enumerate}
  So, the assumption of a surjection existing has led to $a_0 \in A$ such that neither $a_0 \in D$ nor $a_0 \notin D$, which is impossible. Thus there can be no surjective $f$.\\
  Notice, though, that there exists an injection $A \to \pset{A}, a \mapsto \{a\}$, and thus there is an injection but no bijection.\\
  Thus, we can say that $\pset{A}$ is strictly bigger than $A$.\\
\end{proof}


\section{Sequences}
\subsection{Definitions}
\begin{definition}
  Let $A$ be a set. An $A$-valued sequence indexed by $\mathbb{R}$ is a map \[x: \mathbb{N} \to A.\] The value $x(n)$ is called the $n$-th element of the sequence. One writes $x(n) = x_n$, or lists its elements \[\{x_1, x_2, x_3, \dots\} \equiv \{x_n\}_{n \in \mathbb{N}} \equiv (x_n)_{n \in \mathbb{N}} \equiv \{x_n\}.\]
\end{definition}

\begin{definition}[Convergence]
  We say that a sequence $(x_n)$ converges to a real number $x$ if for every $\epsilon > 0$, $\exists N \in \mathbb{N} \st$ for all $n \geq N$ we have \[|x_n - x| < \epsilon.\] If sequence $(x_n)$ converges to $x$, we write $\lim_{n \to \infty} x_n = x$.
\end{definition}

\begin{example}
  Let $(x_n)$ be a sequence defined by $x_n = \frac{1}{n}, n \in \mathbb{N}$, then $\lim_{n \to \infty} x_n = 0$.
  \begin{proof}
    Let $\epsilon > 0$. Let $N \in \mathbb{N} \st N > \frac{1}{\epsilon}$. Then for $n \geq N$, we have that $$0 < \frac{1}{n}\leq \frac{1}{N} < \epsilon.$$ So, for $n \geq N, |x_n - 0| < \epsilon$, and so the limit is $0$.
  \end{proof}
\end{example}



\begin{definition}[Quantifier of Limit $\textcolor{red}{\star}$]
  The limit can be written in terms of quantifiers.
  \[\lim_{n \to \infty} x_n = x\] means that \[(\forall \epsilon > 0)(\exists N \in \mathbb{N})(\forall n \geq N)(|x_n - x| < \epsilon).\]
\end{definition}

% TODO: add "strategy"
\begin{example}
  Prove that $$\lim_{n\to \infty} \frac{n^2+1}{n^2} = 1.$$

\begin{proof}
  Let $\epsilon > 0$. Let $N$ be a natural number such that $N > \frac{1}{\sqrt{\epsilon}}$. Then, for $n \geq N$,
  \begin{align*}
    |\frac{n^2+1}{n^2}-1| = |\frac{n^2+1-n^2}{n^2}| = \frac{1}{n^2} \leq \frac{1}{N^2} < \epsilon.
  \end{align*}
\end{proof}
\end{example}

\begin{definition}[Divergent Sequences]
  If a sequence $(x_n)$ does not converge to any real number $x$, we say that the sequence is divergent. For instance, consider \[x_n = (-1)^n, n \geq 1.\] The sequence alternates between $1$ and $-1$ and so intuitively does not converge. How do we prove it?
\end{definition}

\begin{proof}
  By contradiction; suppose that $x_n  = (-1)^n$ be a converging sequence. Let $x = \lim_{n\to \infty}x_n$. Take $\epsilon = 1$, then $\exists N \in \mathbb{N} \st$ for all $n \geq N$ we have that $|x-x_n| < \epsilon = 1$.\\
  Consider indices $n = N, n = N+1$. We have \[|x_{N+1} - x_N| = |x_{n+1} - x + x - x_N| \leq \underbrace{|x_{N+1} -x| + |x - x_N|}_{\text{triangle inequality}} < 1 + 1 = 2.\] But we also have that $$|(-1)^{N+1}-(-1)^N| = |(-1)^{N+1}+(-1)^{N+1}| = 2,$$ We thus have that $2 < 2$, which is a contradiction. Thus, $x_n$ is not convergent.
\end{proof}

\begin{example}
  Evaluate the following examples using the $\epsilon$ definition:
  \begin{enumerate}
    \item $\lim_{n\to\infty} \frac{\sin n}{\sqrt[3]{n}} = 0$
    \item $\lim_{n\to\infty} \frac{n!}{n^n} = 0$
    \item $\lim_{n\to\infty} \frac{(1+2+\cdots + n)^2}{n^4} = \frac{1}{4}$
  \end{enumerate}
\end{example}

\begin{proof}
  \begin{enumerate}
    \item For all $\epsilon > 0$; take $\frac{1}{N} < \epsilon^3 \implies \frac{1}{\sqrt[3]{N}} < \epsilon$. Then, $\forall n \geq N$, \begin{align*}
      n \geq N \implies \sqrt[3]{n} \geq \sqrt[3]{N} \implies \frac{1}{\sqrt[3]{n}} \leq \frac{1}{\sqrt[3]{N}}\\
      -1 \leq \sin n \leq 1 \implies \abs{\sin n} \leq 1 \implies \abs{\frac{\sin n}{\sqrt[3]{n}}} \leq \abs{\frac{1}{\sqrt[3]{N}}} \leq \frac{1}{\sqrt[3]{N}} < \epsilon\\
      \implies \lim_{n\to\infty} \frac{\sin n}{\sqrt[3]{n}} = 0
    \end{align*}
    \item Take $\frac{1}{N} \leq \epsilon$. Then, $\forall \epsilon > 0$, $\forall n \geq N \implies \frac{1}{n} \leq \frac{1}{N}$, \begin{align*}
      \frac{n!}{n^n} > 0 \implies \abs{\frac{n!}{n^n}} = \frac{n!}{n^n} = \frac{n(n-1)(n-2)\cdots 1}{n\cdot n \cdots n} = \frac{n}{n} \cdot \frac{n-1}{n} \cdot \frac{n-2}{n} \cdots \frac{1}{n}\\
      \leq 1 \cdot 1 \cdots 1 \cdot \frac{1}{n}\\
      \leq \frac{1}{n} \leq \frac{1}{N} < \epsilon\\
      \implies \lim_{n\to\infty} \frac{n!}{n^n} = 0
    \end{align*}
    \item Note first that $(1+2+ \cdots + n)^2 = (\frac{n(n+1)}{2})^2$ (see \cref{example:ai.i}). Take $\frac{1}{N} < \frac{\epsilon}{2}$; then, $\forall \epsilon > 0$, we have that $\forall n \geq N$, \begin{align*}
      \abs{\frac{(1+2+\cdots + n)^2}{n^4} - \frac{1}{4}} = \frac{\frac{n^2(n+1)^2}{4}}{n^4} - \frac{n^4}{n^4} = \frac{n^4+2n^3+n^2 - n^4}{n^4}\\
      = \frac{2n^3 + n^2}{n^4} = \frac{2n+1}{n^2} \leq \frac{2n}{n^2} \leq \frac{2}{n} \leq \frac{2}{N} < \epsilon\\
      \implies \lim_{n\to\infty} \frac{(1+2+\cdots + n)^2}{n^4} = \frac{1}{4}
    \end{align*}
  \end{enumerate}
\end{proof}

\subsection{Properties of Limits}
\begin{lemma}[Triangle Inequality]
  For $x,y,z \in \mathbb{R},$
  \[(i)\quad|x + y|  \leq |x| + |y|; \qquad (ii) \quad|x-y| \leq |x-z| + |z-y|\footnotemark\]
\end{lemma}

\footnotetext{Generally, proofs involving limits will consist of 1) picking/defining an $\epsilon$ based on given limit/series definitions, and then 2) using triangle inequality/related techniques to reach the desired conclusion.}


\begin{proof}[Sketch proof]
  $(i)$:
  $|x+y| = \begin{cases}
    x + y & x + y \geq 0\\
    -(x+y) & x + y \leq 0
  \end{cases}$.
  So if $x + y \geq 0$, $|x+y| = x + y \leq |x| + |y|$. \\
  If $x+y >0, |x+y| = -(x+y) = (-x) + (-y) \leq |x| + |y|$.\\\\
  $(ii)$: $|x-y| = |x-z + z - y| \leq |x-z| + |z-y|$ (using $(i)$).
\end{proof}

% \begin{definition}[Metric Space]
%   A pair $(X,d)$ where $X$ is a set and $d: X \times X \to [0, \infty)$ having the following properties:
%   \begin{enumerate}
%     \item $d(x,y) = 0 \iff x = y$;
%     \item $d(x,y) = d(y,x)$;
%     \item $\forall x,y,z \in X$, the triangle inequality holds;
%     \[d(x,y) \leq d(x,z) + d(z,y)\]
%   \end{enumerate}
% \end{definition}

% \begin{example}
%   $X = \mathbb{R}$  , $d(x,y) = |x-y|$. Clearly, 1., 2., 3. all hold.
% \end{example}


\begin{theorem}[$\textcolor{red}{\star}$]
  A limit of a sequence is unique. In other words, if the sequence is converging, then its limit is unique. The sequence cannot converge to two distinct numbers $x$ and $y$.\footnotemark
\end{theorem}

\footnotetext{
  Proof sketch: contradiction, assume two distinct limits, and take $\epsilon$ as their midpoint. Arrive at a contradiction by using triangle inequalities to show that $|x-y| < |x-y|$, and thus the limits cannot be distinct.
}
\begin{proof}
  By contradiction; suppose $\exists (x_n) \st \lim_{n \to \infty} x_n = x$ and $\lim_{n \to \infty} x_n = y$, and that $x \neq 0$.\\
  Take $\epsilon = \frac{|x-y|}{2}$. Since $x \neq y$, we have that $\epsilon > 0$. Since $\lim_{n \to \infty} x_n = x$, $\exists N_1 \in \mathbb{N}$ s.t. for $n \geq N_1$, $|x_n - x| < \epsilon$. \\
  Similarly,  since $\lim x_n = y$, $\exists N_2 \in \mathbb{N}$ s.t for $g \geq N_2, |x_n - y| < \epsilon$. \\
  Take some $n \geq \max(N_1, N_2)$; then \begin{align*}
    |x-y| = |x-x_n + x_n - y| &\leq |x-x_n|+|x_n-y|\\
    &< \epsilon + \epsilon = |x-y|\\
    &\implies |x-y| < |x-y|, \bot
  \end{align*}
\end{proof}

\begin{theorem}\label{thm:convbound}
  Any converging sequence is bounded.\footnotemark\\In other words, if $(x_n)$ is a converging sequence, $$\exists M > 0 \st |x_n| \leq M \forall n \geq 1.$$
\end{theorem}

\footnotetext{
  Take $\epsilon = 1$, which is greater than $|x_n -x |$ by limit definition for $n \geq N$ for some $N$. We then use this to show that $|x_n| < 1 + |x|$, then construct a summation $M$ such that it bounds $|x_n|$; it is equal to $|x_1| + |x_2| + \cdots$ up to $|x_{N-1}|$, then plus $1+|x|$. We have finished.
}


\begin{proof}
  Let $(x_n)$ be a converging sequence, and $x = \lim_{n\to\infty} x_n$. Take $\epsilon = 1$ in the definition of the limit; then, $\exists N \in \mathbb{N} \st \forall n \geq N$, $|x_n - x| < 1$.\\
  This gives that for $n \geq N$, $|x_n| = |x_n - x + x| \leq |x_n - x| + |x| < 1 + |x|$.\\
  Let now $M = |x_1| + |x_2| + \cdots + |x_{N-1}| + (1 + |x|)$. Then, for any $n \geq 1$, $|x_n| \leq M$;\\If $n \leq N-1$, then $|x_n|$ is a summand in $M$, and thus $|x_n| \leq M$.\\ If $n \geq N$, then we have by the choice of $N$ that $|x_n| < 1 + |x| \leq M$.\\ Thus, for all $n \geq 1$, $|x_n| \leq M$, and is thus bounded given $(x_n)$ converges.
\end{proof}

\begin{proposition}[Algebraic Properties of Limits]\label{prop:apl}
  Let $(x_n), (y_n)$ be sequences such that\footnotemark \[\lim x_n = x, \quad \lim y_n = y.\]
  Then:
  \begin{enumerate}
    \item For any constant $c$, \(\lim c \cdot x_n = c \cdot \lim x_n = c\cdot x\)
    \item $\lim (x_n + y_n) = \lim x_n + \lim y_n = x+y$
    \item $\lim x_n \cdot y_n = (\lim x_n)(\lim y_n) = x\cdot y$
    \item Suppose $y \neq 0$, $y_n \neq 0 \forall n \geq 1$. Then, $\lim \frac{x_n}{y_n} = \frac{\lim x_n}{\lim y_n} = \frac{x}{y}$
  \end{enumerate}
\end{proposition}

\footnotetext{Note that the contrary of these statements need not hold; ie, if $\lim (x_n \cdot y_n)$ exists, this does not imply the existence of $\lim x_n$ and $\lim y_n$. Consider \cref{example:counterlimitalgebra}}
\begin{remark}
  Let $X$ be the collection of all sequences of real numbers, $X = \{(x_n): x_n \text{ is a sequence}\}.$ If $(x_n) \in X$ and $c \in \mathbb{R}$, we can define $c \cdot(x_n) = (c\cdot x_n)$\footnotemark; this defines \emph{scalar multiplication} on $X$.\\ We can also define \emph{addition}; if $(x_n)$ and $(y_n)$ are two sequences in $X$, then $(x_n) + (y_n) = (x_n + y_n)$. Then, with these two operations $X$ is a \emph{vector space}.
\end{remark}

\footnotetext{NB: this denotes $c$ multiplying to each $n$th element in $x_n$, ie $c \cdot x_1$, $c \cdot x_2$, etc}

\begin{example}\label{example:counterlimitalgebra}
  Take $x_n = (-1)^n, y_n = (-1)^{n+1}$, $n \geq 1$.\\
  $(x_n) + (y_n) = 0, x_n \cdot y_n = -1$, and so $\lim x_n + y_n = 0, \lim x_n \cdot y_n = -1$, while neither $\lim x_n$ nor $\lim y_n$ exist.
\end{example}

\begin{proof}[Proof (part 3. of \cref{prop:apl})]
  Take\footnotemark $\lim x_n = x, \lim y_n = y$. Since $(x_n)$ is converging, it is bound by \cref{thm:convbound}, and there exists $M > 0 \st \forall n \geq 1, |x_n| \leq M$.\\
  Now, \begin{align*}
    |x_n y_n - xy| &= |x_n y_n - x_n y + x_n y - xy|\\
    & \leq |x_n y_n - x_n y| + |x_n y - xy|\\
    &= |x_n| \cdot |y_n - y| + |y|\cdot |x_n - x|\\
    &\leq M \cdot |y_n - y| + |y|\cdot |x_n -x| \quad (i)
  \end{align*}
  Let $\epsilon > 0$; since $\lim y_n = y$, there exists $N_1 \in \mathbb{N} \st n \geq N_1, |y_n - y| < \frac{\epsilon}{2M}$. Sim, since $\lim x_n = x, \exists N_2 \in \mathbb{N}$ s.t. $|x_n - x|  <\frac{\epsilon}{2(|y|+1)}$\\
  Let $N = \max (N_1, N_2)$, $n \geq N$. Then, we have, with $(i)$,
  \begin{align*}
    (i) \quad |x_n y_n - xy| &\leq M\cdot |y_n - y| + |y| \cdot |x_n| - x\\
    &< M\cdot \frac{\epsilon}{2M} + |y|\cdot \frac{\epsilon}{2 (|y|+1)}\\
    &\leq \frac{\epsilon}{2} + \frac{\epsilon}{2}.
  \end{align*}
  Thus, for $n \geq N$, $|x_n y_n - xy| < \epsilon$, and by definition of the limit, $\lim x_n y_n = xy$.
\end{proof}
\footnotetext{
Proof sketch: take an upper bound of $x_n$. Then, show that $|x_n y_n - xy| < \epsilon$, by using triangle inequalities to show inequality to a combination of $M$, arbitrarily small values (by def of limits of $x_n, y_n$ resp,), and $|y|$.}

\begin{theorem}[Order Properties of Limits]
  Let $(x_n), (y_n)$ be two sequences such that \[\lim x_n = x, \quad \lim y_n = y.\]
  \begin{enumerate}
    \item $x_n \geq 0 \forall n \implies x \geq 0$.
    \item $x_n \geq y_n \forall n \implies x \geq y$.
    \item $c$ is constant since $c \leq x_n \forall n \geq 1 \implies c \leq x$. $x_n \leq c \forall n \geq 1 \implies x_n \leq c$.
  \end{enumerate}
\end{theorem}

\begin{remark}
  2., 3. follow from 1. Set $z_n = x_n - y_n \forall n \geq 1$. Then, $z_n \geq 0 \forall b \geq 1$, $\lim z_n = \lim (x_n-y_n) = \lim x_n - \lim y_n$ (as these limits exist) $= x-y$. By 1., $\lim z_n \geq 0$, and so either $x - y \geq 0$ or $x \geq y$.
\end{remark}

\begin{proof}[Proof of 1.]
   Suppose 1. does not hold; suppose $\exists (x_n) \st \lim x_n = x$, $x_n \geq 0 \forall \geq,$ but $x <0$.\\
   Let $\epsilon > 0 \st x < -2 \epsilon < 0$. With this $\epsilon, \lim x_n = x$ gives that $\exists N \in \mathbb N \st \forall n \geq N, |x_n - x| < \epsilon$, or particularly, $x_n - x < \epsilon$.\\
   Then, $x_n < \epsilon + x$, and since $x < -2 \epsilon$, we have $\forall n \geq N$, $x_n < -\epsilon$, and thus $\forall n \geq N$, $x_n < 0$, a contradiction.
\end{proof}

\begin{theorem}[The Squeeze Theorem]
  Let $(x_n), (y_n), (z_n)$ be sequences such that \(x_n \leq y_n \leq z_n, \,\forall n \geq 1,\) and \(\lim_{n \to \infty} x_n = \lim_{n \to \infty} z_n = \ell,\) then \(\lim_{n \to \infty}y_n = \ell.\footnotemark\)
\end{theorem}
\footnotetext{Sketch: This follows a similar technique to many that follow. Use the definitions of the limits of $x_n, z_n$ to take an arbitrary $\epsilon$, and an $N$ for each respective limit. Take the max of these $N$'s, and show that for all $n \geq \max N_i$, you can show that f $y_n - l$ is less than $\epsilon$ and greater than $-\epsilon$. Really, this is just a proof of applying definitions correctly.}

\begin{proof}
  Let $\epsilon > 0$. Since $\lim x_n = \ell$, there $\exists N_1 \in \mathbb{N} \st \forall n \geq N_1, |x_n - \ell| < \epsilon$.\\
  Since $\lim z_n = \ell$, there $\exists N_2 \in \mathbb{N} \st \forall n \geq N_2, |z_n - \ell| < \epsilon$.\\
  Take $N = \max \{N_1,N_2\}$ and take $n \geq N$. Then, \[y_n \leq z_n \implies y_n - \ell \leq z_n - \ell \leq |z_n - \ell| < \epsilon,\] since $n \geq \max\{N_1, N_2\} \implies n \geq N_2.$\\
  Now, we have that \[y_n \geq x_n \implies y_n - \ell \geq x_n - \ell > - \epsilon, \] since $|x_n - \ell| < \epsilon $ for $n \geq N_1,$ and our $n$ is $\geq \max\{N_1,N_2\}.$ Thus, for $n \geq N$, \[-\epsilon < y_n - \ell < \epsilon \implies |y_n - \ell| < \epsilon,\] and thus $\lim y_n = \ell$, by definition.
\end{proof}

\begin{definition}[Increasing/Decreasing]
  A sequence $(x_n)$ is called \emph{increasing} if $x_{n+1} \geq x_n \forall n \in \mathbb{N}$, and is \emph{decreasing} if $x_{n_1} \leq x_n \forall n \in \mathbb{N}$.
\end{definition}

\begin{definition}[Bounded from above/below]
  A sequence $(x_n)$ is called \emph{bounded} from above if there exists some $M \in \mathbb{R} \st x_n \leq M \forall n \geq 1$.\\Sequence $(x_n)$ is bounded from below if there exists some $M \in \mathbb{R} \st x_n \geq M \forall n \geq 1$.
\end{definition}

\begin{theorem}[Monotone Convergence Theorem]\label{thm:mct}
  The following relate to bounded above/below and increasing/decreasing sequences:\footnotemark
  \begin{enumerate}
    \item Let $(x_n)$ be an increasing sequence that is bounded from above. Then $(x_n)$ is converging.
    \item Let $(x_n)$ be a decreasing sequence that is bounded from below. then $(x_n)$ is converging.
  \end{enumerate}
\end{theorem}
\footnotetext{Sketch: 1,2 are proven very similarly. For 1., take the set of all $x_n$ in the given sequence. Since the sequence is bounded, then so is the set, and so we can take its supremum. Use the $\epsilon$ definition of $\sup$ to show that this supremum is also the limit of the sequence (basically, a bunch of inequalities, and being careful with definitions). 2. follows identically but using the infimum.}

\begin{proof}[Proof (of 1)]
  Let $A = \{x_n: n \geq 1\}$. Since $(x_n)$ is bounded above by $M$, the set $A$ is bounded from above. Let $\alpha = \sup A$, which exists by AC.\\Let $\epsilon > 0$. Since $\alpha$ is the least upper bound for $A$, $\alpha - \epsilon$ is \textit{not} an upper bound of $A$ ($\alpha - \epsilon < \alpha$). Hence, there must exist some $N \in \mathbb{N}$ such that $\alpha - \epsilon < x_N$ (if it didn't exist, then $\alpha$ wouldn't be the supremum \dots). Then, for $n \geq N$, and since $(x_n)$ increasing, $$\alpha - \epsilon < x_N \leq x_n \leq \alpha.$$ Then, for all $n \geq N$, \[\alpha - \epsilon < x_n \leq \alpha \implies - \epsilon < x_n -\alpha \leq 0,\] and so $|x_n - \alpha| < \epsilon $ for $n \geq N$. By definition, $\alpha = \lim x_n$.
\end{proof}

\begin{example}
  % TODO
  A sequence $(x_n)$ is called \emph{eventually increasing} if there exists some $N_0 \in \mathbb{N} \st \forall n \geq N_0, x_{n+1} \geq x_n$. If $(x_n)$ is eventually increasing and bounded from above, $\lim x_n = \alpha$ exists.
\end{example}

\begin{example}
  Let $(x_n)$ be a sequence defined recursively by $x_1 = \sqrt{2}$ and $x_{n+1} = \sqrt{2 + x_n}, n \geq 1$. So $x_2 = \sqrt{2 + \sqrt{2}}, x_3 = \sqrt{2 + \sqrt{2 + \sqrt{2}}} \cdots$, $x_n = 2 \cos \frac{\pi}{2^{n+1}}, n \geq 1$. Show that $\lim x_n = 2$.
  \begin{proof}
    We will prove this using the Monotone Convergence Thm by showing that the $x_n$ is bounded from above and increasing, which implies that the limit exists. We will then find the actual limit.\\
    Recall that $n \geq 1, x_n \leq 2$. We will prove this by induction. Let $S \subseteq \mathbb{N}$ be the set of indices such that $x_n \leq 2$. Since $x_1 = \sqrt{2} < 2$, $1 \in S$. Now suppose some $n \in S$, ie $x_n \leq 2$. Then, we have that $x_{n+1} = \sqrt{2 + x_n} \leq \sqrt{2+2} = 2 \implies x_{n+1} \leq 2$. Thus, by induction, $n \in S \implies n+1 \in S \implies S = \mathbb{N}$, ie $x_{n} \leq 2 \forall n \in \mathbb{N}$. Thus, our sequence is bounded from above.\\
    We now prove that $(x_n)$ is increasing. Let $S \subseteq \mathbb{N} \st n \in S \iff x_{n+1} \leq x_n$. $x_2 = \sqrt{2 + \sqrt{2}} \geq \sqrt{2} = x_1 \implies x_1 \leq x_2 \implies 1 \in S$. Suppose $n \in S \implies x_{n+1} \geq x_n$. Then, $x_{n+2} = \sqrt{2 + x_{n+1}} \geq \sqrt{2 + x_n} = x_{n+1} \implies n+1 \in S$. Thus, $S = \mathbb{N}, $ so $x_{n+1} \geq x_{n} \forall n \in \mathbb{N}$.\\
    So the sequence $(x_n)$ is increasing and bounded from above, and thus $\exists \lim x_n = \alpha$. To find the value of $\alpha$, consider $x_{n+1} = \sqrt{2 + x_n}$, or $x_{n+1}^2 = 2 + x_n$. We can also write that $\alpha = \lim x_n = \lim x_{n+1}.\footnotemark$ We then have that $\lim x_{n+1} = \alpha \implies \lim x_{n+1}^2 = \alpha^2$, and thus $x_{n+1}^2 = 2+ x_n \implies \lim  x_{n+1}^2 = \lim (2+x_n) \implies \alpha^2 = 2 + \alpha  \implies \alpha = 2, -1$. $x_n \geq 0 \forall n$, by Order Limit Theorem, and so $\alpha \geq 0$ and thus $\alpha = 2$.
  \end{proof}
\end{example}

\footnotetext{Add proof}

\begin{corollary}\label{cor:recursiveaside}
  For $a,b > 0$, then $\frac{1}{2}(a+b) \geq \sqrt{ab}$
\end{corollary}
\begin{proof}
  $\left[\frac{1}{2}(a+b)\right]^2 = \frac{1}{4}(a^2 + 2ab + b^2) \geq ab \implies \frac{1}{2}(a+b)\geq \sqrt{ab}$
\end{proof}

\begin{example}
  Let $(x_n)$ be defined recursively by $x_1 = 2$ and $x_{n+1} = \frac{1}{2}\left(x_n + \frac{2}{x_n}\right)$ for $n \geq 1$. Then, $(x_n)$ is converging and $\lim x_n = \sqrt{2}$.
  \begin{proof}
    We\footnotemark  will show that $(x_n)$ bounded from below and decreasing, implying the limit exists. We will show that for $n$, $x_n \geq \sqrt{2}$. For $n = 1$, $2 \geq \sqrt{2}$. For $n > 1$, we will \cref{cor:recursiveaside}. We then have that $x_{n+1} = \frac{1}{2}(x_n + \frac{2}{x_n}) \geq \dots \geq \sqrt{2} \implies x_n \geq \sqrt{2} \forall n \geq 1$, ie, it is bounded from below.\\
    We will now show that the sequence is decreasing.
    \[x_n - x_{n+1} = x_n - \frac{1}{2}(x_n + \frac{2}{x_n}) = \frac{1}{2}x_n - \frac{1}{x_n} = \frac{1}{2x_n}(x_n^2 - 2).\]
    % TODO: finish
  \end{proof}
\end{example}

\footnotetext{This example, as well as the more general one after it, rely on applying 1) the monotone convergence theorem, then 2) using Algebraic Limit Properties to turn the problem into an algebraic problem, using the given recursive relation.}

\begin{example}[$\textcolor{red}{\star}$]
  Let $a> 0$ and let $(x_n)$ be a sequence defined recursively by $x_1$ is arbitrary (positive), and \[x_{n+1} = \frac{1}{2}(x_n + \frac{a}{x_n}), \quad n \geq 1.\] Show that $\lim_{n\to\infty}x_n = \sqrt{a}$.
  % \textit{(Sol'n: Show that for $n\geq 2$, $x_n \geq \sqrt{a}$, and that for $n \geq 2$, $x_n \geq x_{n+1}$, ie the sequence is decreasing and bounded from below. This shows that the limit exists and is equal to some $x$, and the relation gives that $x = \frac{1}{2}(x + \frac{a}{x})$; solve for $x$.)}
\end{example}
\begin{proof}
  By \cref{cor:recursiveaside}, $x_{n+1} = \frac{1}{2}(x_n + \frac{a}{x_n}) \geq \sqrt{x_n \cdot \frac{a}{x_n}} = \sqrt{a}$, hence, $x_n$ is bounded from below by $\sqrt{a}$.\\
  We also have that $x_n - x_{n+1} = x_n - \frac{1}{2}x_{n} - \frac{a}{2x_n} = \frac{x_n}{2} - \frac{a}{2x_n} = \frac{1}{x_n}\left(x_n^2 - a\right)$. We have that $x_n \geq \sqrt{a} \implies x_{n}^2 \geq a \implies x_{n}^2 -a \geq 0$. Further, since the sequence is bounded from below by $\sqrt{a} > 0 (\impliedby a > 0)$, then $\frac{1}{x_{n}} > 0$ as well. Hence, $\frac{1}{x_n}(x_n^2 - a) \geq 0$, and thus $x_{n} - x_{n+1} \geq 0 \implies x_n \geq x_{n+1}$ and thus $x_{n}$ is decreasing.\\
  Thus, by the \nameref{thm:mct}, $x_n$ is convergent. Let $X:= \lim_{n\to\infty}x_n$. We have from the recursive definition, $\lim x_{n} = \lim \left(\frac{1}{2}(x_n + \frac{a}{x_n})\right)$. Since we know $x_{n}$ convergent, we can "split up" this limit using algebraic properties, hence\begin{align*}
    \lim x_n= \lim \frac{1}{2} x_n + \lim \frac{a}{2x_n} = \frac{1}{2}\lim x_n + \frac{a}{2} \lim \frac{1}{x_n}\\
    \implies X = \frac{1}{2}X + \frac{a}{2X}\\
    \implies \frac{X}{2} = \frac{a}{2X} \implies X^2 = a \implies X = \sqrt{a},
  \end{align*}
  which completes the proof.
\end{proof}

\begin{example}
  Evaluate\footnotemark the limit of $x_{n}$ given the recursive relation $x_{n+1} = \frac{1}{4-x_n}, x_1 = 3$. 
\end{example}
\footnotetext{Abbott, pg 54 exercise 2.4.2}
\begin{proof}
  We aim to show that $(x_n)$ is bounded from below and decreasing.\\
  \textbf{Bounded from below: } we claim $x_n > 0$; we proceed by induction. $x_1 = 3 > 0$ holds; say $x_{n} > 0$ for some $n \geq 1$. Then, we have \[
  x_n > 0 \implies - x_n < 0 \implies 4 - x_n < 4 \implies \frac{1}{4-x_{n}} > \frac{1}{4} > 0 \implies  x_{n+1} = \frac{1}{4-x_n} > 0,
  \]
  so the sequence is bounded from below by 0.\\
  \textbf{Decreasing: } $(x_n)$ decreasing iff $x_{n + 1} \leq x_n \forall n$. We have $x_2 = \frac{1}{4-3} = 1 \implies x_1 = 3 \geq 1$ holds. Say $x_{n-1} \geq x_{n}$ for some $n \geq 1$. Then, we have \[
  x_{n-1} \geq x_n \implies 4 - x_{n-1} \leq 4 - x_{n} \implies \frac{1}{4-x_{n-1}}\geq \frac{1}{4-x_n} = x_{n+1}\implies x_{n} \geq x_{n+1}
  \]
  and thus the sequence decreases, and by \cref{thm:mct} the limit exists. Let $X = \lim_{n\to\infty} x_{n} = \lim_{n\to\infty} \frac{1}{4-x_{n-1}} \implies X = \frac{1}{4-X} \implies 4X-X^2 = 1 \implies 0 = X^2-4X+1 \implies X = \cdots = 2 \pm \sqrt{3}$. We must take the negative root, since $X$ is decreasing and thus must be less than $3$. 
\end{proof}

\subsection{Limit Superior, Inferior}

\begin{definition}[limsup, liminf]
  Recall \cref{thm:convbound}, stating that a convergence sequence is bounded. Let $(x_n)$ be a convergent sequence bounded by $m$ and $M$ from below/above resp, ie 
  \[m \leq x_n \leq M, \forall n\]
  and let $A_n = \{x_k : k \geq n \}$ (the set of elements in the sequence "after" a particular index).\\ Let $y_n = \sup A_n$; by definition, $y_n \leq M$, and $y_n \geq m$, since $y_n \geq x_n \geq m$. Thus, we have \[A_1 \supseteq A_2 \supseteq \cdots \supseteq A_n \supseteq A_{n+1} \supseteq \cdots, \] and further, \[y_1 \geq y_2 \geq \cdots \geq y_n \geq y_{n+1} \geq \cdots;\] since $A_2 \subseteq A_1$, $y_1$ also an upper bound for $A_2$, and thus $y_2 \leq y_1$ by definition of a supremum. \\
  So, the sequence $(y_n)$ is decreasing, and bounded from below; by MCT, $\lim_{n\to\infty} y_n = y$ exists. Note too that since $m \leq y_n \leq M$, we have that $m \leq y \leq M$.\\
  This $y$ is called the \emph{limit superior} of $(x_n)$ denoted by \[\limsupbar x_n = \limsup_{n\to\infty}x_n.\]
  Now, similarly, note that $A_n$ is bounded below by $m$ and thus $z_n = \inf A_n$ exists. We further have that $z_n \leq x_n \leq M$, and that $z_n \geq m \forall n$, and we have \[z_1 \leq z_2 \leq \cdots \leq z_n \leq z_{n+1} \leq  \cdots, \] by a similar argument as before. So, as before, the sequence $(z_n)$ is increasing, and bounded from above by $M$. Again, by MCT, $\lim_{n\to\infty} z_n = z$ exists. We call $z$ the \emph{limit inferior} of $(x_n)$, and denote \[\liminfbar x_n = \liminf_{n\to\infty} x_n.\]
  We note that $y_n \geq z_n$, so $\limsupbar x_n \geq \liminfbar x_n\quad (y\geq z)$.\\
  Further, $\liminf$ and $\limsup$ exist for any bounded sequence, \textit{regardless} if whether or not the limit itself exists.
\end{definition}

\begin{example}
  Let $(x_n) = (-1)^n, n \in \mathbb{N}$. We showed previously that this is a divergent sequence, so the limit does not exist. However, the sequence is bounded, since $-1 \leq x_n \leq 1 \forall n$. We have $A_n = \{(-1)^k : k \geq n\} = \{-1, 1\}$. So, $y_n = \sup A_n = 1$, and $z_n = \inf A_n = -1$, $\forall n$. Thus, $\limsup x_n = \lim y_n = 1$, and $\liminf x_n = \lim z_n = -1$, despite $\lim x_n$ not existing.\\
  More specifically, we have a divergent sequence, and $\liminf \neq \limsup$.
\end{example}

\begin{theorem}[$\liminf$, $\limsup$ and convergence]\label{thm:infsupconvergence}
  Let $(x_n)$ be a \emph{bounded} sequence. The following are equivalent;
  \begin{enumerate}
    \item The sequence $(x_n)$ is convergent, and \(\lim_{n\to\infty}x_n = x.\)
    \item $\limsupbar x_n = \liminfbar x_n = x$.
  \end{enumerate}
\end{theorem}

\begin{proof}
  Let $A_n, y_n, z_n$ be as in the definition of $\limsup$, $\liminf$.


  \textbf{(1) $\implies$ (2):} Suppose $(x_n)$ is converging, and $\lim_{n\to\infty}x_n = x$. Let $\epsilon > 0$. Then, there exists some $N \in \mathbb{N} \st \forall n \geq N$,  $$\abs{x_n - x} < \frac{\epsilon}{2},$$ or equivalently, $$x - \frac{\epsilon}{2} < x_n < x + \frac{\epsilon}{2}, \forall n \geq N.$$ Since $A_n = \{x_k : k \geq n\}$, if $n \geq N$, then $x + \frac{\epsilon}{2}$ is an upper bound for $A_n$, and $x - \frac{\epsilon}{2}$ is a lower bound for $A_n$. This gives that \[y_n = \sup A_n \leq x + \frac{\epsilon}{2}; \quad z_n = \inf A_n \geq x - \frac{\epsilon}{2}.\] This gives that for $n \geq N$, $$x - \frac{\epsilon}{2} \leq z_n \leq x_n \leq y_n \leq x + \frac{\epsilon}{2},$$ ie $z_n, y_n \in [x - \frac{\epsilon}{2}, x + \frac{\epsilon}{2}]$. So, for all $n \geq N$, $|z_n - x| \leq \frac{\epsilon}{2} < \epsilon$, and $|y_n - x| \leq \frac{\epsilon}{2} < \epsilon$, so by definition of the limit, this gives \[\lim_{n \to \infty} y_n = x \text{ and } \lim_{n\to\infty} z_n = x,\] ie, $\limsupbar x_n = \liminfbar x_n = x$.
  $$\bullet$$
  \textbf{(2) $\implies$ (1):} Let $\epsilon > 0$. Since $\lim_{n\to\infty} y_n = x$, $\exists N_1 \st \forall n \geq N_1, \abs{y_n - x }< \epsilon$. Similarly, since $\lim z_n = x$, $\exists N_2 \st \forall n \geq N_2, \abs{z_n - x} < \epsilon$.\\
  Take $N = \max \{N_1, N_2\}$. Then, for $n \geq N$, we have \[x - \epsilon < z_n \leq x_n \leq y_n < x + \epsilon.\] So, for $n \geq N, \abs{x_n - x} < \epsilon$, thus $\lim x_n = x$ as desired.
\end{proof}

\begin{example}
  Let\footnotemark $(x_n)$ be a bounded sequence. Then \[\limsup_{n\to\infty} (-x_n) = - \liminf_{n \to \infty} x_n.\]
\end{example}
\footnotetext{Midterm material ends here. There will be 5 questions. Memorize \textbf{everything}; homeworks, exercises, class material. Study the solutions until you can recite it upwards, backwards, sideways.}
\begin{proof}
  Recall \cref{remark:negativesupinf}; Let $A_n := \{x_k : k \geq n\}$ as in the definition of $\limsup, \liminf$. Let $y_n:=\sup A_n, z_n := \inf A_n$. By \cref{thm:infsupconvergence}, $\lim y_n = \lim z_n$. Further, $\sup (- A_n) = - \inf (A_n)$, where $-A_n = \{-x_k : k \geq n\}$; hence, $\limsup (-x_n) = -\liminf x_n$, as desired.
\end{proof}



\subsection{Subsequences and Bolzano-Weirestrass Theorem}

\begin{definition}[Subsequence]
  Let $(x_n)$ be a sequence of real numbers, and let $n_1 < n_2 < n_3 <\cdots < n_k < n_{k+1} < \cdots$ be a strictly increasing sequence of natural numbers. Then, the sequence \[(x_{n_1}, x_{n_2}, \cdots, x_{n_k}, x_{n_{k+1}} , \cdots )\] is called a \emph{subsequence} of $(x_n)$ and is denoted $(x_{n_k})_{k \in \mathbb{N}}$.
\end{definition}

\begin{remark}
  $k$ is the index of the subsequence, $(x_{n_k})_{k\in\mathbb{N}}$, \textbf{not} $n$; $x_{n_1}$ is the 1st element, \dots, $x_{n_k}$ is the $k$-th element.
\end{remark}

\begin{example}
  Let $x_{n} = \frac{1}{n}, (\frac{1}{n})_{n\in\mathbb{N}}$, and let $n_k = 2k+1, k \in \mathbb{N}$. $n_1 =3, n_2 = 5, n_3 = 7, \dots, n_k = 2k+1$. Our subsequence is then \[(x_{n_1}, x_{n_2}, \dots, x_{n_k}, \dots) = \left(\frac{1}{3}, \frac{1}{5}, \dots, \frac{1}{2k+1}, \dots\right) = \left(\frac{1}{2k+1}\right)_{k\in\mathbb{N}}\]is our subsequence of $(x_n)$.
\end{example}

\begin{remark}\label{remark:nkgeqk}
  Note that for any $k, n_{k} \geq k$.\\ Let $S = \{k \in \mathbb{N} : n_k \geq k\}$. Then, $1 \in S$, since $n_1 \in \mathbb{N}, n_1 \geq 1$ . If $k \in S$, then $n_k \geq k$, and so, since $n_{k+1} > n_k$ (increasing), we have that $n_{k+1}> k \implies n_{k+1} \geq k+1$. So, $k+1 \in S, S= \mathbb{N}$.
\end{remark}

\begin{remark}\label{remark:limitsubsequence}
  $\lim_{k\to\infty}x_{n_k} = x$ if $\forall \epsilon > 0$, $\exists K \in \mathbb{N} \st \forall k \geq K, \abs{x_{n_k} - x} < \epsilon$.
\end{remark}


\begin{theorem}\label{thm:convsubsequence}
  Let $(x_n)$ be a sequence such that $\lim_{n\to\infty} x_n = x$. Then, for any subsequence $(x_{n_k})_{k\in\mathbb{N}}$, we have that $\lim_{k\to\infty} x_{n_k} = x$
\end{theorem}
\begin{proof}
  Let $\epsilon > 0$. Since $\lim_{n\to\infty} x_{n} = x$, $\exists N \in \mathbb{N} \st \forall n \geq N$, $\abs{x_n - x} < \epsilon$. Take $K = N$ (from \cref{remark:limitsubsequence}). Then, for $k \geq K$, we have from \cref{remark:nkgeqk} that $$n_k \geq k \geq K = N,$$ and hence $\abs{x_{n_k} - x} < \epsilon \implies \lim_{k\to\infty}x_{n_k} = x$.
\end{proof}

\begin{theorem}[Bolzano-Weirestrass Theorem]\label{thm:bwthm}\footnotemark
  Any bounded sequence $(x_n)$ has a convergent subsequence.  
  \end{theorem}
  \footnotetext{Fundamental property of the real line; equivalent to AC.}
\begin{example}
  Take $x_n = (-1)^n, n \in\mathbb{N}$. This sequence does not converge. However, if we take a subsequence with $n_k =2k, k \in\mathbb{N}$. $x_{n_k} = (-1)^{2k} = 1$, so $(x_{n_k})$ is a constant sequence $1$ and converges to $1$.\\ Similarly, if $n_k = 2k+1, k \in \mathbb{N}$, then $x_{n_k} = (-1)^{2k+1} = -1$, and the subsequence converges to $-1$.
\end{example}  

\begin{proposition}\label{prop:prelimfact}
  If $0 < b < 1$, then $\lim_{n\to\infty}b^{n} = 0$.
\end{proposition}
\begin{proof}
  Let $x_n = b^n$. Then $x_n > 0$, and $x_{n+1} = b^{n+1} = b x_{n} > x_n$, and since $ 0 < b < 1$, $(x_n)$ is decreasing and bounded from below, $(x_n)$ converges by the \nameref{thm:mct}. Let $x = \lim_{n\to\infty}x_n$. Again, $x_{n+1} = b x_n$, so $\lim_{n\to\infty}x_{n+1} = \lim_{n\to\infty}bx_{n} = b\lim_{n\to\infty}x_n$, so $x = bx \implies (1-b)x = 0$. $0 < b < 1 \implies x = 0$.
\end{proof}


\begin{proof}[BW Proof (1): using Nested Interval Property]
  \footnotemark Since $(x_n)$ bounded, $\exists M > 0 \st \abs{x_n} \leq M \forall n \in \mathbb{N}$. Let $I_1 = [-M, M]$ and $n_1 = 1$. We now construct $I_2, n_2$ as follows.

  Divide $I_1$ into two intervals of the same size, $I_1' = [-M, 0], I_1'' = [0, M]$. Now, consider the sets $$A_1 = \{n \in \mathbb{N} : n > n_1 (= 1), x_n \in I_1'\},\quad A_2 = \{n \in \mathbb{N} : n > n_1, x_{n} \in I_1''\}$$ (ie, all the indices of all the elements in $I_1'$, $I_1''$ resp.). \\Hence, $A_1 \cup A_2 = \{n : n > n_1\}$, an infinite set, and hence, one of $A_1$, $A_2$ must be infinite (by \cref{thm:infiniteunion}).
  If $A_1$ infinite, set $I_2 = I_1'$, $n_2 = \min A_1$. If $A_1$ finite, then $A_2$ infinite, and set $I_2 = I_1''$, $n_2 = \min A_2$.

  Suppose now that $I_k$, $n_k$ are chosen, and that $I_k$ contains infinitely many elements of the sequence $(x_n)$. Divide $I_k$ into two equal sub-intervals, $I_k', I_k''$. We now introduce $$A_1^{(k)} = \{n \in \mathbb{N} : n > n_k\text{ and } x_{n}\in I_k'\}, \quad A_2^{(k)} = \{n \in \mathbb{N} : n > n_k \text{ and } x_{n} \in I_k'' \},$$  (similar to our construction of $A_1, A_2$). $A_1^{(k)} \cup A_2^{(k)}$ must be infinite, so one of the two must be infinite. If $A_1$ infinite, set $I_{k+1} = I_k'$, $n_{k+1} = \min A_{1}^{(k)}$. If $A_2$ infinite, set $I_{k+1} = I_{k}'', n_{k+1} = \min A_{2}^{(k)}$.

  This gives now that $I_{k+1}$ and $n_{k+1}$, where $I_{k+1} \subseteq I_k, I_{k+1}$ contains infinitely many elements of the sequence. Further, by construction, $n_{k+1} > n_k$. This gives us a sequence of closed intervals $I_k = [a_k, b_k], k \in \mathbb{N}$ such that $I_1 \supseteq I_2 \supseteq \cdots \supseteq I_k \supseteq I_{k+1} \supseteq \cdots$, such that $x_{n_k} \in I_k$, and that $n_k$ is a strictly increasing sequence of natural numbers, defining subsequence $(x_{n_k})$.

  Now, by construction, the length of $I_{k+1}$ is $\frac{1}{2}$ of the length of $I_k$. Since $I_k = [a_k, b_k]$, then \[
  b_k - a_k = \frac{b_{k-1} - a_{k-1}}{2} = \cdots \frac{b_1 - a_1}{2^{k-1}} = \frac{2M}{2^{k-1}} = \frac{M}{2k^{k-2}}.
  \]
  Since $I_k, k \in \mathbb{N}$, is a nested sequence of closed intervals and by the nested interval property of the real line (AC), $\exists x \in \bigcap_{k=1}^{\infty} I_k$.
  
  We claim now that our subsequence $(x_{n_k})$ satisfies $\lim_{k\to\infty} x_{n_k} = x$. To see this, let $\epsilon > 0$. Since $\lim_{k\to\infty}\frac{M}{2^{k-2}} = \lim_{k\to\infty}\frac{4M}{2k} = 0$, by \cref{prop:prelimfact}, with $b = \frac{1}{2}$. There exists $K \in \mathbb{N}$ such that $\forall k \geq K$, we have $\frac{M}{2^{k-2}} = b_k - a_k < \epsilon$. So, since $I_k$ is a nested sequence of intervals, $\forall k \geq K$, $x_{n_k} \in I_K$ ($x_{n_k} \in I_k \subseteq I_K$). We also have that $x \in I_K$, since $x \in \bigcap I_k$. So, $x, x_{n_k} \in [a_K, b_K] \forall k \geq K$. So, for $k \geq K$, $\abs{x_{n_k} - x} \leq \abs{b_k - a_k} < \epsilon$. So for $\epsilon > 0$, $\exists K \in \mathbb{N} \st \forall k \geq K$, $\abs{x_{n_k}-x} < \epsilon$, and so $\lim_{k\to\infty} x_{n_k} = x$, as desired.
\end{proof}
% TODO: add sketch
\footnotetext{Sketch: 

See Abbott, pg 57, for good diagram.
}

\begin{definition}[Peak]
  Let $(x_n)$ be a sequence of real numbers.  An element $x_m$ is called a \emph{peak} of this sequence if $x_m \geq x_n \forall n \geq m$. $x_m$ is bigger or equal then to any element of the sequence that follows it.\\
  If a sequence is decreasing, then any element of the sequence is a peak.\\
  If a sequence is increasing, then there is no peak.
\end{definition}


% Any sequence $(x_n)$ of real numbers must have a monotone subsequence. If, in addition, $(x_n)$ bounded, then this subsequence is also bounded, and converges by \nameref{thm:mct}.

\begin{proof}[BW Proof (2): using Peaks]
  Take sequence $(x_n)$. Then,
  \begin{itemize}
    \item \textbf{Case 1:} $(x_n)$ has \textit{infinitely} many peaks; enumerate the indices of those peaks as $n_1 < n_2 < n_3 < \cdots$, then $x_{n_k} < x_{n_{k+1}} \forall k$, since $x_{n_k}$ is a peak, $n_{k+1} > n_k$.  This gives a decreasing subsequence $(x_{n_k})$.
    \item \textbf{Case 2:} $(x_n)$ has \textit{finitely} many peaks, with indices $m_1 < m_2 < \cdots < m_r$. Set $n_1 = m_r + 1$. Then $x_{n_1}$ is not a peak, and so $\exists$ $n_2 > n_1 \st x_{n_2} > x_{n_1}$. Now, $x_{n_2}$ is also not a peak, ($n_2 > n_1 > m_r$), and so there exists $n_3 > n_2$ such that $x_{n_3} > x_{n_2}$, and so on. In this way, we construct a subsequence $(x_{n_k})$ that is strictly increasing, that is, $x_{n_{k+1}} > x_{n_k}$.
  \end{itemize}
  If in addition $(x_n)$ is bounded, say $\abs{x_n} \leq M \forall n$, then the monotone subsequence constructed in \textbf{Cases 1, 2} is also bounded; ie $\abs{x_{n_k}} \leq M \forall k$. Thus, by \nameref{thm:mct}, $(x_{n_k})$ is converging.
\end{proof}

\subsection{Cauchy Sequences}
\begin{definition}[Cauchy Sequence]\label{def:cauchydefinition}
  A sequence $(x_n)$ is called \emph{Cauchy} if for every $\epsilon > 0$, $\exists N \in \mathbb{N} \st \forall n, m \geq N, \abs{x_n - x_m} < \epsilon$. 
\end{definition}

\begin{theorem}[Cauchy Criterion]\label{thm:cauchyconvergence}
  A sequence $(x_n)$ is convergent iff it is Cauchy.
\end{theorem}

\begin{remark}
  This is, again, an "equivalent" formulation of AC; at least, the direction $(x_n)$ Cauchy $\implies$ convergent is. The other direction, convergent $\implies$ Cauchy, does \textit{not} rely on AC.
\end{remark}

\begin{remark}
  AC $\iff$ BW, AC $\iff$ MCT, AC $\iff$ NIP; AC $\iff$ Cauchy Criterion $+$ Archimedean Property
\end{remark}

\begin{remark}
  Beyond the real line, AC (in terms of $\sup$) cannot be formulated, because of the lack of ordering. In this case, the Cauchy criterion can be used to extend AC to other spaces.
\end{remark}

\begin{proof}(\cref{thm:cauchyconvergence}; 
  \textbf{$(x_n)$ Convergent $\implies$ Cauchy }) \\Suppose $\lim_{n\to\infty} x_n = x$. Let $\epsilon >0$, $N \in \mathbb{N} \st \forall n \geq N$, $\abs{x_n - x} < \frac{\epsilon}{2}$. Then, for $n,m \geq N$,
  \begin{align*}
    \abs{x_n - x_m} = \abs{x_n - x + x - x_m} \leq \abs{x_n - x} + \abs{x_m - x} < \frac{\epsilon}{2} + \frac{\epsilon}{2} = \epsilon\\
    \implies \abs{x_n - x_m} < \epsilon,
  \end{align*}
  hence $(x_n)$ is Cauchy.
\end{proof}
\begin{remark}
  To prove $\impliedby$, we first introduce the following theorem(s); see \cref{proof:cauchyconvergenceimpliedby} for the remainder.
\end{remark}

\begin{theorem}\label{thm:cauchysubsequence}
  Let $(x_n)$ be a Cauchy sequence and suppose that $(x_n)$ has a convergent subsequence $(x_{n_k})$. Then $(x_n)$ is also convergent.
\end{theorem}

\begin{proof}
  Let $x = \lim_{n\to\infty} x_{n_k}$. Let $\epsilon > 0$. Then, $\exists K \in \mathbb{N}$ such that $\forall k \geq K$, $\abs{x_{n_k} - x} < \epsilon$. We have too that $(x_n)$ Cauchy, ie $\exists N \in \mathbb{N} \st \forall n,m \geq N$, $\abs{x_{n} - x_m} < \frac{\epsilon}{2}$. \\Let now $K_0 \geq \max \{K, N\}$. Recall that $n_{K_0} \geq K_0 \geq N$. Take now $n \geq N$, and estimate \begin{align*}
    \abs{x_n - x} = \abs{x_n - x_{n_{K_0}}+x_{n_{K_0}}-x} \leq \abs{x_n - x_{n_{K_0}}} + \abs{x_{n_{K_0}}-x}
  \end{align*}
  Since $K_0 \geq K$, $\abs{x_{n_{K_0}} - x} < \frac{\epsilon}{2}$. Since $n_{K_0} \geq N$, we also have $\abs{x_{n} - x_{n_{K_0}}} < \frac{\epsilon}{2}$. Thus, we have \[\abs{x_n - x} < \frac{\epsilon}{2} + \frac{\epsilon}{2} = \epsilon,\] hence $\lim_{n\to\infty} x_n = x$.
\end{proof}
\begin{remark}
  This did \textit{not} use AC.
\end{remark}
\begin{theorem}\label{thm:cauchybounded}
  Any Cauchy sequence is bounded.
\end{theorem}
\begin{proof}
  Let $(x_n)$ be Cauchy. We aim tos hwo that $\exists M > 0 \st \forall n \in \mathbb{N}, \abs{x_n} \leq M$.\\
  Take $\epsilon = 1$ in the definition of Cauchy sequence. Let $N$ be such that $\forall n,m \geq N$, $\abs{x_n - x_m} < 1$. We can take $m = N$, and so for all $n \geq N$, $\abs{x_n - x_{N}} < 1$, which gives that for $n \geq N$,
  \begin{align*}
    \abs{x_n} = \abs{x_{n} - x_{N} + x_N} \leq \abs{x_n- x_N} + \abs{x_N} < 1 + \abs{x_N}
  \end{align*}
  Let $$M = \abs{x_1} + \abs{x_2} + \dots \abs{x_{N-1}} + \abs{x_N} + 1.$$ Then, if $n \leq N$, $\abs{x_n} \leq M$; if $n \geq M, \abs{x_n} \leq M$, so $\forall n \geq 1, \abs{x_n} \leq M$, hence $(x_n)$ is bounded.
\end{proof}
\begin{remark}
  This did not use AC.
\end{remark}
\begin{proof}(\cref{thm:cauchyconvergence}; $(x_n)$\textbf{ Convergent $\impliedby$ Cauchy}) \\If $(x_n)$ Cauchy, then $(x_n)$ is bounded by \cref{thm:cauchybounded}, and thus by \nameref{thm:bwthm}, $(x_n)$ has a convergent subsequence $(x_{n_k})$. Then, by \cref{thm:cauchysubsequence}, $(x_n)$ must converge.
\end{proof}\label{proof:cauchyconvergenceimpliedby}

\begin{example}\label{example:recursivenessity}
  Let\footnotemark $(x_n)$ be a sequence defined recursively by $x_1 = 1$, $x_2 = 2$, $x_{n+1} = \frac{1}{2}(x_n + x_{n-1}), n \geq 2$. Prove that $(x_n)$ is a convergence sequence, and find its limit.
\end{example}
\footnotetext{
Sketch: show $x_n$ Cauchy $\implies x_n$ converges, then take a subsequence of $x_n$ (spec, odd $n$) and find a closed form of it which is nicer to evaluate. Use then \cref{thm:convsubsequence} to conclude that the limit of the subsequence is equal to the limit of the sequence.}
\begin{remark}
  Before solving, we establish a number of properties about the sequence.
\end{remark}
\begin{proposition}[Property I]\label{prop:exercisecauchypropI}
  $1 \leq x_n \leq 2 \forall n \geq 1$
\end{proposition}
\begin{proof}
  We proceed by induction. Let $S \subseteq \mathbb{N}$ be the set of all $n$ such that $1 \leq x_n \leq 2$. \\
  \textit{Base Case}: $1 \in x$, since $x_1 = 1$.\\
  \textit{Assumption:} suppose $\{1,2, \dots, n\} \in S$. We want to show that $n+1 \in S$.\\
  If $n = 1$, then $x_2 = 2$, so $x_2 \in S$. If $n > 1$, then \[x_{n+1} = \frac{1}{2} (x_n + x_{n+1}),\] and by inductive assumption, $1 \leq x_n \leq 2$ and $1 \leq x_{n-1} \leq 2$, hence $$1 \leq x_{n+1} \leq 2,$$ hence $n+1 \in S$, and thus $S = \mathbb{N}$.
\end{proof}
\begin{proposition}[Property II]\label{prop:exercisecauchypropII}
  For all $n \geq 1$, $\abs{x_{n+1} - x_n} = \frac{1}{2^{n-1}}$.
\end{proposition}
\begin{proof}
  We proceed by induction. Let $S \subseteq \mathbb{N}$ be the set of all $n$ such that the statement holds for $x_n$.\\
  \textit{Base Case: } $x_2 = 2$, $x_1 = 1$, hence $2 - 1 = 1 = \frac{1}{2^0} = 1$, holds.\\
  \textit{Assumption: } suppose $n \in S$, ie $\abs{x_{n+1} - x_{n}} = \frac{1}{2^{n-1}}$ holds for $n$. Then, \begin{align*}
    \abs{x_{n+2} - x_{n+1}} = \abs{\frac{1}{2}(x_{n+1} + x_n) - x_{n+1}}\\
    = \abs{\frac{1}{2} x_n - \frac{1}{2} x_{n+1}} = \frac{1}{2} \abs{x_{n+1} - x_n}\\
    \textit{(assumption } \implies )\qquad = \frac{1}{2} \cdot \frac{1}{2^{n-1}} = \frac{1}{2^{n}},
  \end{align*}
  hence the statement holds for $n+1$, and $S = \mathbb{N}$.
\end{proof}
\begin{corollary}\label{cor:examplecauchycor}
  For any $r \neq 1$, and any $k \in \mathbb{N}$, $1 + r + r^2 + \cdots + r^k = \frac{1-r^{k+1}}{1-r}$.
\end{corollary}
% TODO proof above
\begin{proposition}[Property III]\label{prop:exercisecauchypropIII}
  $(x_n)$ a Cauchy sequence.
\end{proposition}
\begin{proof}
  Let $\epsilon > 0$. We need to find $N \in \mathbb{N}$ such that $\forall n, m \geq N$, $\abs{x_{n} - x_m} < \epsilon$. Let $N$ be such that\footnotemark $\frac{1}{2^{N-2}} = \frac{4}{2^N} < \epsilon$. Let, now, $n,m \geq N$, and suppose $n > m$ (when $n=m$, we are done; when $n < m$, simply switch the variables wlog). We can write \begin{align*}
    \abs{x_n - x_m} = \abs{x_n - x_{n-1} + x_{n+1} - x_{n-2} + x_{n-2} + \cdots - x_{m+1} + x_{m+1} - x_m}\\
    \leq \abs{x_n - x_{n-1}} + \abs{x_{n-1} - x_{n-2}} + \cdots + \abs{x_{m+1} - x_m} \footnotemark
  \end{align*}
  Using \nameref{prop:exercisecauchypropII} we can write \begin{align*}
    \abs{x_{n} - x_m} &\leq \frac{1}{2^{m-1}} + \frac{1}{2^m} + \cdots \frac{1}{2^{n-2}}\\
    &= \frac{1}{2^{m-1}}\left(1 + \frac{1}{2} + \cdots + \frac{1}{2^{n-m-1}}\right)
  \end{align*}
  By \cref{cor:examplecauchycor}, with $r = \frac{1}{2}$ and $k = n - m - 1$, we have \[
    \frac{1}{2^{m-1}}\left(1 + \frac{1}{2} + \cdots + \frac{1}{2^{n-m-1}}\right) = \frac{1}{2^{m-1}} \left(
  \frac{1 - \left(\frac{1}{2}\right)^{n-m}}{1 - \frac{1}{2}}
    \right) < \frac{1}{2^{m-2}} \leq \frac{1}{2^{N-2}}.
  \]
  We have chosen $N$ so that $\frac{1}{2^{N-2}} < \epsilon$, hence for $n,m \geq N$, $\abs{x_n - x_m} < \epsilon$, and thus our sequence is Cauchy, so $\lim_{n\to\infty} x_n = X$ exists.
\end{proof}

\footnotetext[36]{$\lim \frac{1}{2^n} = 0$, so such an $N$ exists.}
\footnotetext[37]{"Telescoping" the sequence; the inequality follows directly from the triangle inequality.}

\begin{proof}(Of \cref{example:recursivenessity})\\
  By \nameref{prop:exercisecauchypropIII}, the limit $\lim x_{n} = X$ exists. From the recursive definition, we can write \begin{align*}
    X = \lim x_n = \lim (\frac{1}{2}(x_{n-1} + x_{n-2}))\\
    \implies X = \frac{1}{2}(X+ X) = X,
  \end{align*}
  which, while true, is useless. Rather, consider the subsequence $$(x_{2k+1})_{k\in\mathbb{N}}$$ of $(x_n)$. We claim, then, that \[x_{2k+1} = 1 + \frac{1}{2} + \frac{1}{2^3} + \cdots + \frac{1}{2^{k-1}}, k \geq 1. \qquad \star\] Note that $\forall n \geq 1$, $x_{2n} \geq x_{2n-1}$ and $x_{2n} \geq x_{2n+1}$. We can argue by induction. Let $S \subseteq \mathbb{N}$ for which the relation holds. Since $x_1 = 1$, $x_2 = 2$, $x_3 = \frac{3}{2}$, we have that $x_{2} \geq x_1$, $x_2 \geq x_3$, and so the relation holds, ie $1 \in S$. Suppose that $n \in S$, ie $x_{2n} \geq x_{2n-1}, x_{2n} \geq x_{2n+1}$ for some $n \geq 1$. We can write \begin{align*}
    x_{2k+2} = \frac{1}{2}(x_{2k+1} + x_{2k}) \geq \frac{1}{2}(x_{2n+1} + x_{2n+1}) \geq x_{2n+1}\\
    \implies x_{2n+3} = \frac{1}{2}(x_{2n+2} + x_{2n+1}) \leq \frac{1}{2}(x_{2n+2}+x_{2n+2}) = x_{2n+2}
  \end{align*}
  Hence $x_{2n+2} \geq x_{2n+1}$ and $x_{2n+2} \geq x_{2n+3}$, $n+1 \in S$, and hence $S = \mathbb{N}$, and our relation holds $\forall n \in \mathbb{N}$.

  Recall now that $\forall n, \abs{x_{n+1} - x_n} = \frac{1}{2^{n-1}}$. We then have the following, given the relation we proved above; \begin{align*}
    x_{2n+1} - x_{2n-1} &= \underbrace{x_{2n+1} - x_{2n}}_{\leq 0} + \underbrace{x_{2n} - x_{2n-1}}_{\geq 0}\\
    &= -\frac{1}{2^{2n-1}} + \frac{1}{2^{2n-2}} = -\frac{1}{2^{2n-1}}  +\frac{2}{2^{2n-1}} = \frac{1}{2^{2n-1}}
  \end{align*}
  From here, we can prove the claim $\star$ by induction. % TODO

  Summing up the RHS of $\star$, and factoring out a $\frac{1}{2}$, we have \[
  x_{2k+1} = 1 + \frac{1}{2}\left(1 + \frac{1}{2^2} + \cdots + \left(\frac{1}{2^2}\right)^{k-1}\right).
  \]
  Recalling \cref{cor:examplecauchycor}, and taking $r = \frac{1}{4}$ and $\ell = k - 1$, we have \begin{align*}
    x_{2k+1} &=1+ \frac{1}{2}\left(\frac{1 - \left(\frac{1}{4}\right)^k}{1 - \frac{1}{4}}\right)\\
    &= 1 + \frac{2}{3}\left(1 - \left(\frac{1}{4}\right)^k\right)\\
    & = \frac{5}{3} - \frac{2}{3}\left(\frac{1}{4}\right)^k
  \end{align*}
  Thus, we have that $\lim_{k\to\infty} x_{2k+1} = \frac{5}{3}$, as the term $(\frac{1}{4})^k$ goes to zero.

  Now, since $\lim_{n\to\infty} x_{n} = X$ and we showed $x_{n}$ convergent, then each of its subsequences converges to the same limit. Thus, $X = \frac{5}{3}$, ie, \[\lim_{n\to\infty} x_{n} = \frac{5}{3}.\]
\end{proof}
\begin{remark}
  Generally, this type of approach is quite tedious. The next example(s) will try to generalize it.
\end{remark}
\begin{example}
  Consider the recursive relation $x_{n+1} = \frac{1}{2} x_{n} + \frac{1}{2} x_{n-1}\quad \star$.
\end{example}
\begin{proof}
  We have the following \textit{characteristic equation} of the sequence:\[x^2 = \frac{1}{2} x + \frac{1}{2},\] with solutions $a = 1, b = -\frac{1}{2}$. We can now write the following sequence: \[x_{n} = C_1 a^{n} + C_2 b^n = C_1 + C_2 (-\frac{1}{2})^n, \quad \star\star\] where $C_1, C_2$ are arbitrary constants. We claim that this sequences satisfies our recursive relation, $\star$; note that 
  \begin{align*}
    \left(-\frac{1}{2}\right)^{n+1} &= \left(-\frac{1}{2}\right)^{n-1} \cdot \frac{1}{4} = \left(-\frac{1}{2}\right)\left(\left(-\frac{1}{2}\right)\frac{1}{2} + \frac{1}{2}\right)\\
    \implies x_{n+1} &= C_1 + C_2\left(-\frac{1}{2}\right)^{n+1}\\
   &= \frac{C_1}{2} + \frac{C_1}{2} + C_2\left(-\frac{1}{2}\right)^{n-1}\left(\left(-\frac{1}{2}\right)\frac{1}{2} + \frac{1}{2}\right)\\
    &= \frac{C_1}{2} + \frac{C_1}{2}+C_2\left(-\frac{1}{2}\right)^{n} + \frac{C_2}{2}\left(-\frac{1}{2}\right)^{n}\\
    &= \frac{C_1}{2} + \frac{C_2}{2}\left(-\frac{1}{2}\right)^{n} + \frac{C_1}{2} + \frac{C_2}{2}\left(-\frac{1}{2}\right)^{n-1}\\
    &= \frac{x_n}{2} + \frac{x_{n-1}}{2}
  \end{align*}
  Hence, our $\star\star$ is our so-called \textit{general solution} to $\star$. The only factor we must find, then, are our $C_1$, $C_2$. Recall our initial $x_1 = 1, x_2 = 2$. Plugging these into $\star\star$, then, gives \[x_1 = C_1 + C_2\left(-\frac{1}{2}\right) = 1; \quad x_2 = C_1 + C_2 \left(-\frac{1}{2}\right)^2 = 2,\] which is simply a system of two equations for two unknowns, $C_1, C_2$. Solving them\footnotemark, we have \[C_1 = \frac{5}{3},\quad C_2 = \frac{4}{3},\] hence we have the general formula \[
    x_{n} = \frac{5}{3} + \frac{4}{3}\left(-\frac{1}{2}\right)^{n}  
  \]
  The RHS of this sum goes to zero, and thus our limit is \[\lim_{n\to\infty}x_n = \frac{5}{3}.\]
\end{proof}

\footnotetext{
% TODO
}

\begin{remark}
  From this general form, we can conclude, as in \cref{example:recursivenessity}, that $x_{2n} \geq x_{2n-1}, x_{2n} \geq x_{2n+1}$, since $x_{2n} > \frac{5}{3}, x_{2n+1} < \frac{5}{3}, x_{2n-1} < \frac{5}{3}$; ie, the same property that we used to prove the previous example holds here.
\end{remark}

\begin{remark}
  Any recursively defined sequence of the form $x_{n+1} = A x_{n} + B x_{n-1}, n > 1$ where $A, B \in \mathbb{R}$, can be solved using the characteristic equation \[x^2 = A x + B,\] with solutions $a = \frac{A + \sqrt{A^2 + 4B}}{2}, b = \frac{A - \sqrt{A^2 + 4B}}{2}$. It may be that $a,b \in \mathbb{C}$; we shall not consider these cases. Indeed, we have: \begin{align*}
    x_{n+1} &= C_1 a^{n+1} + C_2 b^{n+1}\\
    &= \cdots \\
    &= C_1 a^{n-1}(Aa + B) + C_2b^{n-1} (Ab+B)\\
    &= C_1 A a^{n}  + C_1 a^{n-1} B + C_2 A b^n + C_2 B b^{n-1}\\
    &= A (C_1a^{n} + C_2 b^n) + B(C_1 a^{n-1} + C_2 b^{n-1})\\
    &= A x_n + B x_{n-1}
  \end{align*}
  Given initial $x_1, x_2$, then we have that \[x_1 = C_1 a + C_2 b, \quad x_2 = C_2 a^2 + C_2 b^2.\]
  $C_1, C_2$ are uniquely determined by this relation, as long as the matrix of coefficients \[\left|\begin{matrix}
    a & b \\
    a^2 & b^2
  \end{matrix}\right| = ab^2 - ba^2 \neq 0.\] n the case $a = b,$ or $a = 0$ or $b = 0$, then the determinant is also equal to $0$, and we thus have to use a different method. As long as the determinant is nonzero, then we have a valid specific definition. 
\end{remark}

\begin{remark}
  The recursive relation $x_{n+1} = A x_{n} + B x_{n-1}$ is a discrete analog of a differential equation.
\end{remark}

\subsection{Contractive Sequences}

\begin{definition}[Contractive Sequences]
  A sequence $(x_n)$ of real numbers is called contractive with contractive constant $K$, where $0 < K < 1$, if $\abs{x_{n+2} - x_{n+1}} \leq K \abs{x_{n+1} - x_n} \forall n \geq 1$, ie, the distance between successive elements of the sequence are contracted at least by a factor of $K$.

  We have, by extension, that \begin{align*}
    \abs{x_n - x_{n-1}} \leq K \abs{x_{n-1} - x_{n-2}}\\
    \leq K^2 \abs{x_{n-2} - x_{n-3}}\\
    \leq \cdots \\
    \leq K^{n-2} \abs{x_2 - x_1}.
  \end{align*}
\end{definition}

\begin{theorem}
  Let $(x_n)$ be a contractive sequence with contractive constant $K$. Then, $(x_n)$ is a Cauchy sequence, and in particular, $(x_n)$ converges.
\end{theorem}

\begin{proof}
  Let $n,m \in \mathbb{N}$ such that $n > m \geq 2$. Then, we have \begin{align*}
    \abs{x_n - x_m} &= \abs{x_n - x_{n-1} + x_{n-1} - x_{n-2} +x_{n-2} - \cdots  - x_{m+1} + x_{m+1} - x_m}\\
    &\leq \abs{x_n - x_{n-1}} + \abs{x_{n-1} - x_{n-2}} + \cdots + \abs{x_{m+1} - x_m}\\
    &\leq K^{n-2} \abs{2 - x_1} + K^{n-3} \abs{x_2 -x_1} + \cdots + K^{m-1} \abs{x_2 - x_1}\\
    &= K^m-1\abs{x_2 - x_1} \left(1 + K + K^2 + \cdots + K^{n-m-1}\right)\\
    &= K^{m-1}\abs{x_2 - x_1} \frac{1-K^{n-m}}{1-K} \quad \textit{by \cref{cor:recursiveaside}}\\
    &< \frac{K^{m-1}\abs{x_2 - x_1}}{1-K}\\
   &\implies \abs{x_n - x_m} < \frac{K^{m-1}\abs{x_2 - x_1}}{1 - K} \forall n > m \geq 2
  \end{align*}

\end{proof}












% \newpage
% \section{Appendix}
% \subsection{Major Results \& their Implications}

% \begin{itemize}
%   \item \nameref{axiom:inductioniii}: important means of proof involving the naturals. Note that this is equivalent to the \textit{Well-Ordering Property} of the naturals, which states that any nonempty subset of $\mathbb{N}$ contains a minimal element. This means that one \textit{implies} the other; they are not \textit{independent} axioms of the naturals.
%   \begin{proof}
%     \textit{Induction $\implies$ WOP: } Let $S \subseteq \mathbb{N} \st \not\exists \min{S}$, let $P_n$ be the statement $n \notin S$. $P_0$ holds; say $P_n$ holds for some $n \geq 0$, ie $n \notin S$. Then, $n + 1 \notin S$, otherwise it would be the minimal element. Hence, $P_n$ holds $\forall n$ by AI, thus $S = \varnothing$, and thus WOP "holds" (so to speak).\\
%     \textit{WOP $\implies$ Induction: } Let $n_0$ be the "base case" for some $P_n$. Let $S = \{n \in \mathbb{N} : n \geq n_0 \text{ and } P_{n} \text{ false}\}$. By WOP, $a:=\min{S}$ exists, so $P_{a}$ is false and $a \geq n_0$. Further, $P_{a-1}$ must be false, otherwise $a-1$ would be the minimal element of $S$. But then $P_{a-1} \implies P_{a}$ true, a contradiction; hence, if $P_{n_0}$ true, and $P_{n} \implies P_{n+1}$, then $P_n$ true $\forall n \geq n_0$ follows from WOP.
%   \end{proof}
%   \item \cref{prop:irr2};
% \end{itemize}


% \subsection{Tutorials}
% \subsubsection{Tutorial I (Sept 13)}

% \begin{enumerate}
%   \item We say $n$ odd if $\exists k$, $n = 2k+1$. Prove that the product of two odds is odd.
%   \begin{proof}
%     Take two odd integers, $n_1 = 2k+1$ and $n_2 = 2j+1$. The product $n_1 \times n_2 = (2k+1)(2j+1) = 4kj+2(k+j)+1$. We have, then \[\underbrace{4kj+2(k+j)}_{\text{even}} + 1.\] Even + odd = odd, thus odd.
%   \end{proof}

%   \item \textbf{Proof by Contrapositive:} $P \implies Q \equiv \neg Q \implies \neg P$. 
%   Let $q \in \mathbb{Q}$. Prove: If $x \in \mathbb{R}\setminus\mathbb{Q}$, then $q+x$ is irrational.
%   \begin{proof}[Proof (contrapositive)]
%     Let $q+x$ be rational. The sum of rationals is rational, and thus $q,x \in \mathbb{Q}$, and thus $x \notin \mathbb{R} \setminus \mathbb{Q}$.
%   \end{proof}

%   \item \textbf{Proofs by Induction}
%   \begin{enumerate}
%     \item Prove that $1^3 + 2^3 + \dots + n^3 = \left(\frac{n(n+1)}{2}\right)^2$.
%     \begin{proof}
%       Let $P_n$ be the statement that $1^3 + \dots = \left(\frac{n(n+1)}{2}\right)^2$. $P_0$ holds as $1 = \frac{(1)(2)}{2}^2 = 1$. Let $P_n$ hold: \[1^3 + 2^3 + \dots + n^3 = \left(\frac{n(n+1)}{2}\right)^2\]
%       Adding $(n+1)^3$ to both sides:
%       \[
%         1^3 + 2^3 + \dots + n^3 + (n+1)^3 = \left(\frac{n(n+1)}{2}\right)^2 + (n+1)^3
%       \]
%       Focusing on the RHS:
%       \begin{align*}
%         \left(\frac{n(n+1)}{2}\right)^2 + (n+1)^3 &= (n+1)^2\left(\frac{n^2}{4} + (n+1)\right)\\
%         &= (n+1)^2\left(\frac{n^2 + 4n + 4}{4}\right)\\
%         &= (n+1)^2\left(\frac{(n+2)^2}{4}\right)\\
%         &= \left(\frac{(n+1)(n+2)}{2}\right)^2
%         & \equiv P_{n+1}
%       \end{align*}
%       Thus, by AI, $P_n$ holds for all $n \in \mathbb{N}$.
%     \end{proof}
%     \item We have an $8\times 8$ checker board. We remove the top-left and bottom-right squares. Prove that the remaining board cannot be covered by $2\times 1$ dominoes.
%     \begin{proof}
%       Note that every domino must cover a black square and a white square. However, the board is missing 2 white squares (say). Thus, there are 62 squares (32 black, 30 white), and we would need \emph{exactly} 31 dominos (62/2). Each requires 1 black, 1 white tile, and thus we will run out of white squares before we reach our 31 dominos, and thus we cannot cover the board.
%     \end{proof}
%     \item Take $F_n$ to represent the $n$th Fibonacci number. Let $\varphi = \frac{1+\sqrt{5}}{2}$. Show that $F_n > \varphi^{n-2} \forall n \geq 3$.
%     \begin{proof}
%       Let $P_n$ represent the "truth" of the given statement. $P_3: F_3 = F_2 + F_1 = 1 + 1 =2$. $\varphi^{1} = \varphi$; clearly $2 > \frac{1+\sqrt{5}}{2}$. Note that we should also prove $P_4, P_5$ for use in our induction.

%       $P_4: (\frac{1+\sqrt{5}}{2})^2 = \frac{1 + 2 \sqrt{5} + 5}{4} = \frac{6+2\sqrt{5}}{4} < 3$.

%       $P_5: (\frac{1+\sqrt{5}{2}})^3 \dots < 5$

%       Take $P_{n-1}, P_{n}$ to hold, ie $F_{n-1}>\varphi^{n-3}$ and $F_n > \varphi^{n-2}$.
%       \begin{align*}
%         F_{n+1} = F_n + F_{n-1} &> \varphi^{n-2} + \varphi^{n-3}\\
%         &= \varphi^{n-3}(\underbrace{\varphi+1}_{=\varphi^2})\\
%         &= \varphi^{n-1},
%       \end{align*} as desired, Noting that $\varphi + 1 = \frac{1+\sqrt{5}}{2} + 1 = \frac{1 + \sqrt{5}+2}{2} = \dots \varphi^2$.
%     \end{proof}
%     \item $a_1 = 1, a_2 = 8, a_n = a_{n-1} + 2 a_{n-2}$. Prove $a_n = 3 \cdot 2^{n-1} + 2 (-1)^n$.
%     \begin{proof}
%       $a_1 = 1 =  3 \cdot 2^0 + 2(-1)^1 =3 -2 = 1$
%       $a_2 = 8 = 3\cdot 2^1 + 2(-1)^2 = 6+2 = 8$
%       So, $P_1, P_2$ holds. Assume $P_n$, $P_{n+1}$ holds. Then, we have $a_n = 3 \cdot 2^{n-1} + 2(-1)^n$ and so:
%       \begin{align*}
%         a_{n+1} &= 3 \cdot 2 ^{n-1} + 2(-1)^{n} + 2 \cdot \left(3\cdot 2^{n-2}+2(-1)^{n-1}\right)\\
%         &= \dots = 3\cdot 2^n + 2(-1)^{n+1}
%       \end{align*}
%       Thus, proven.
%     \end{proof}
%   \end{enumerate}
%   \item Show $A \setminus (B \setminus A) = A$.
%   \begin{proof}
%     Let $x \in A \setminus(B \setminus A)$. $x$ must be in $A$, but not $B \setminus A$. Thus, $x$ is in $A$, but not in $B$. Thus, LHS $\subseteq$ RHS.

%     Let $x \in A$. Thus, $x \notin B \setminus A$, and thus $x \in A \setminus (B\setminus A)$, and so $A \subseteq A \setminus (B \setminus A)$. Thus, LHS = RHS.

%   \end{proof}

%   \item $A_n = \{nk : k \in \mathbb{N}\}, n \geq 2$. Find $\bigcup_{n=2}^\infty An \bigcap_{n=2}^\infty A_n$.
%   \begin{proof}
%     \begin{align*}
%       \bigcup_{n=2}^\infty A_n & = \bigcup \{2k, 3k, 4k, \dots\} = \{n : n \geq 2, n \in \mathbb{N}\} = \mathbb{N}\setminus \{1\}\\
%       \bigcap_{n=2}^\infty A_n &= \varnothing \textit{ consider just } n=2, n=3 \text{ cases...}
%     \end{align*}
%   \end{proof}
% \end{enumerate}

% \subsection{Important}
% \begin{figure*}[!ht]
%   \centering
%   \includegraphics[width=0.8\textwidth]{cardinal.png}
%   \caption{Important!}
%   \label{fig:important}
% \end{figure*}
\end{document}
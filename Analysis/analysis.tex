\documentclass[12pt]{article}
\usepackage{amsthm}
\usepackage{libertine}
\usepackage[margin=0.15in]{geometry}
\usepackage{amsmath,amssymb}
\usepackage{multicol}
\usepackage[shortlabels]{enumitem}
\usepackage{siunitx}
\usepackage{setspace}
\usepackage{cancel}
\usepackage{graphicx}
\usepackage{pgfplots}
\usepackage{listings}
\usepackage{tabularx}
\usepackage{titlesec}
\usepackage{thmtools}
\usepackage{thm-restate}
\usepackage[colorlinks=true, linkcolor=darkgray]{hyperref}
\usepackage{cleveref}
\usepackage[]{csquotes}
\usepackage[createShortEnv]{proof-at-the-end}

% makes theorems, definitions, etc. "restatable" as shown
% can add more with same format as you wish
\renewcommand*{\proofname}{}

\declaretheorem[thmbox=S,name=Definition,numberwithin=section]{definition}
\declaretheorem[thmbox=S,name=Axiom,numberwithin=section]{axiom}
\declaretheorem[thmbox=S,name=Lemma,numberwithin=section]{lemma}
\declaretheorem[thmbox=S,name=Theorem,numberwithin=section]{theorem}
\declaretheorem[name=Example,numberwithin=section]{example}
\declaretheorem[name=Exercise,numberwithin=section]{exercise}

\newEndThm[no proof here, restate, text proof={Examples}, one big link={\emph{See more}}]{definitionEnd}{definition}
\newEndThm[no proof here, restate, one big link = {\emph{Proof}}]{lemmaEnd}{lemma}
\newEndThm[no proof here, restate, one big link = {\emph{(Solution)}}]{exerciseEnd}{exercise}
\newEndThm[no proof here, restate]{axiomEnd}{axiom}

% \newEndThm[proof here, restate]{theoremEnd}{theorem}

% makes "quoted" text actually look correct
\MakeOuterQuote{"}

% page footer
\newpagestyle{mypage}{%
    \footrule
    \setfoot{\small\textcolor{gray}{ยง\thesubsection}}{\small\textcolor{gray}{\textit{\sectiontitle: \textbf{\subsectiontitle}}}}{\textcolor{gray}{\small p. \thepage}}
}

% title page settings
\newcommand{\pageauthor}{Louis Meunier}
\newcommand{\pagetitle}{Analysis I, II}
\newcommand{\pagesubtitle}{MATH254}

% black square for qed symbol
\renewcommand{\qedsymbol}{$\blacksquare$}

\titleformat{\section}
{\centering\normalfont\Large\bfseries}
{\thesection}{1em}{}

\begin{document}
\setstretch{2.25}
\noindent
\begin{center}
    \begin{tabularx}{\textwidth} { 
        >{\raggedright\arraybackslash}X 
        >{\raggedleft\arraybackslash}X}
    \LARGE \pageauthor \\
    \LARGE \textbf{\pagetitle} & \LARGE \textbf{\pagesubtitle}\\
    \end{tabularx}\\
    \rule[2ex]{0.8\textwidth}{1pt}
\end{center}

\setstretch{1.5}
\tableofcontents

% "enables" footer with section+subsection, etc. just comment it out if you don't want it
\pagestyle{mypage}

% makes sections a very dark gray + centered
\titleformat{\section}
{\color{darkgray}\centering\normalfont\Large\bfseries}
{\color{darkgray}\thesection}{1em}{}

% need to change margins and such here for rest of document
% kind of messy but what can you do
\newpage
% modify these as you wish
\newgeometry{margin=0.5in, top=0.4in, bottom=0.75in}
\parskip=0.5em

\section{Logic, Sets, and Functions}
\subsection{Mathematical Induction \& The Naturals}

The \textbf{natural numbers}, $\mathbb{N} = \{1, 2, 3, \dots \}$, are specified by the 5 \textbf{Peano Axioms}:

\begin{enumerate}[label=(\arabic*)]
  \item 1 $\in$ $\mathbb{N}$
  \footnote{using 0 instead of 1 is also valid, but we will use 1 here.}
  \item every natural number has a successor in $\mathbb{N}$
  \item 1 is not the successor of any natural number
  \item if the successor of $x$ is equal to the successor of $y$, then $x$ is equal to $y$
  \footnote{axioms (2)-(4) can be equivalently stated in terms of a successor function $s(n)$ more rigorously, but won't here}
  \item \textbf{the axiom of induction}
\end{enumerate}

The \textbf{Axiom of Induction} (AI), can be stated in a number of ways. 

\begin{axiomEnd}[AI.i]
  Let $S \subseteq \mathbb{N}$ with the properties:
  \begin{enumerate}[label=(\alph*)]
    \item $1 \in S$ 
    \item if $n \in S$, then $n+1 \in S$\footnotemark
  \end{enumerate}
  then $S = \mathbb{N}$.
\end{axiomEnd}
\footnotetext{\textit{(a)} is called the \textbf{inductive base}; \textit{(b)} the \textbf{inductive step}. All AI restatements are equivalent in having both of these, and only differentiate on their specific values.}

\begin{example}\label{example:ai.i}
  Prove that, for every $n \in \mathbb{N}$, $1 + 2 + \cdots + n = \frac{n(n+1)}{2} (\equiv (1))$
  \begin{proof}[Proof (via AI.i)]
    Let $S$ be the subset of $\mathbb{N}$ for which $(1)$ holds; thus, our goal is to show $S = \mathbb{N}$, and we must prove \textit{(a)} and \text{(b)} of AI.i.
    \begin{itemize}
      \item by inspection, $1 \in S$ since $1 = \frac{1(1+1)}{2} = 1$, proving \textit{(a)}
      \item assume $n \in S$; then, $1 + 2 + \cdots + n = \frac{n(n+1)}{2}$ by definition of $S$. Adding $n+1$ to both sides yields:
      \begin{align}
        1 + 2 + \cdots + n + (n+1) &= \frac{n(n+1)}{2} + (n+1) \\
        &= (n+1)(\frac{n}{2}+1) \\
        &= \frac{(n+1)(n+2)}{2} \\
        &= \frac{(n+1)((n+1)+1)}{2}
      \end{align}
    \end{itemize}
    Line (4) is equivalent to statement (1) (substituting $n$ for $n+1$), and thus if $n \in S$, then $n+1 \in S$ and \textit{(b)} holds. Thus, by AI.i, $S = \mathbb{N}$ and $1 + 2 + \cdots + n = \frac{n(n+1)}{2}$ holds $\forall n \in \mathbb{N}$.
    \qed
  \end{proof}
\end{example}

\begin{exerciseEnd}
  Prove (by induction), that for every $n \in \mathbb{N}$, $1^3 + 2^3 + \cdots + n^3 = \left[\frac{n(n+1)}{2}\right]^2$.
\end{exerciseEnd}
\begin{proofEnd}
  Follows a similar structure to the previous example. Let $S$ be the subse4t of $\mathbb{N}$ for which the statement holds. $1 \in S$ by inspection (\textit{(a)} holds), and we prove \textit{(b)} by assuming $n \in S$ and showing $n+1 \in S$ (algebraically). Thus, by AI.i, $S = \mathbb{N}$ and the statement holds $\forall n \in \mathbb{N}$.
  \qed
\end{proofEnd}


Example \ref{example:ai.i} can also be proven directly (Gauss' method).

\begin{proof}[Proof]
  Let $A(n) = 1 + 2 + 3 + \cdots + n$. We can write $2 \cdot A(n) = 1 + 2 + 3 + \cdots + n + 1 + 2 + 3 + \cdots + n$. Rearranging terms ($1$ with $n$, $2$ with $n - 1$, etc.), we can say $2\cdot A(n) = (n+1)+(n+1)+\cdots$, where $(n+1)$ is repeated $n$ times; thus, $2\cdot A(n) = n(n+1)$, and $A(n) = \frac{n(n+1)}{2}$.
  \qed
\end{proof}

\begin{axiomEnd}[AI.ii]
  Let $S \subseteq \mathbb{N}$ s.t.
  \begin{enumerate}[label=(\alph*)]
    \item $m \in S$
    \item $n \in S \implies n+1 \in S$
  \end{enumerate}
  then $\{m, m+1, m+2, \dots\} \subseteq S$.
\end{axiomEnd}

\begin{exerciseEnd}
  Using AI.ii, prove that for $n \geq 2$, $n^2 > n+1$
\end{exerciseEnd}
\begin{proofEnd}
  Again, very similar to the previous induction examples. Take $S$ to be the subset of $\mathbb{N}$ for which the statement holds. \textit{(a)} of AI.ii holds by inspection (where $m = 2$), and \textit{(b)} holds by assuming $n \in S$ and showing that $n+1 \in S$. Thus, $S = \{2, 3, 4, \dots \}$, and the statement holds $\forall n \geq 2$.
\end{proofEnd}

\begin{axiomEnd}[Principle of Complete Induction, AI.iii]
  Let $S \subseteq \mathbb{N}$ s.t.
  \begin{enumerate}[label=(\alph*)]
    \item $1 \in S$
    \item if $1, 2, \dots, n -1 \in S$, then $n \in S$
  \end{enumerate}
  then $S = \mathbb{N}$.
\end{axiomEnd}

Finally, combing AI.ii and AI.iii;
\begin{axiomEnd}[AI.iv]
  Let $S \subseteq \mathbb{N}$ s.t.:
  \begin{enumerate}[label=(\alph*)]
    \item $m \in S$
    \item if $m, m + 1, \dots, m + n \in S$, then $m + n + 1 \in S$
  \end{enumerate}
  then $\{m, m+1, m+2, \dots\} \subseteq S$.
\end{axiomEnd}

% idk why it won't restate it
\begin{theoremEnd}[end, restate]{theorem}[Fundamental Theorem of Arithmetic]
  Every natural number $n$ can be written as a product of one or more primes. \footnotemark
\end{theoremEnd}
\footnotetext{1 is not a prime number}
\begin{proof}[Proof]
  Let $S$ be the set of all natural numbers that can be written as a product of one or more primes. We will use AI.iv to show $S = \{2, 3, \dots \}$.
  \begin{itemize}
    \item \textit{(a)} holds; 2 is prime and thus $2 \in S$
    \item suppose that $2, 3, \dots, 2 + n \in S$. Consider $2 + (n+1)$:
    \begin{itemize}
      \item if $2 + (n+1)$ is \textit{prime}, then $2 + (n+1) \in S$, as all primes are products of $1$ and themselves and are thus in $S$ by definition.
      \item if $2 + (n+1)$ is \textit{not prime}, then it can be written as $2 + (n+1) = a \cdot b$ where $a,b \in \mathbb{N}$, and $ 1 < a < 2 + (n+1)$ and $1 < b < 2 + (n+1)$. By the definition of $S$, $a,b \in S$, and can thus be written as the product of primes. Let $a = p_1 \cdot \cdots \cdot p_l$ and $b = q_1 \cdot \cdots \cdot q_j$, where the $p$'s and $q$'s are prime and $l, j \geq 1$. Then, $a\cdot b$ is a product of primes, and thus so is $2 + (n+1)$. Thus, $2 + (n+1) \in S$, and by AI.iv, $S = \{2, 3, 4, \dots\}$ \qed
    \end{itemize}
  \end{itemize}
\end{proof}

\subsection{Extensions: Integers, Rationals, Reals}

Consider the set of naturals $\mathbb{N} = \{1, 2, 3, \dots\}$. Adding $0$ to $\mathbb{N}$ defines $\mathbb{N}_0 = \{0, 1, 2, \dots\}$. We define the \textbf{integers} as the set $\mathbb{Z} = \{\dots, -3, -2, -1, 0, 1, 2, 3, \dots\}$, or the set of all positive and negative whole numbers.

Within $\mathbb{Z}$, we can define multiplication, addition and subtraction, with the neturals of 1 and 0, respectively. However, we cannnot define division, as we are not guaranteed a quotient in $\mathbb{Z}$. This necessitates the \textbf{rationals}, $\mathbb{Q}$. We define \[\mathbb{Q} = \{\frac{p}{q}, p \in \mathbb{Z}, q \in \mathbb{Z}, q \neq 0\}.\]
On $\mathbb{Q}$, we have the familiar operations of multiplication, addition, subtraction and properties of associativity, distributivity, etc. We can also define division, as $\frac{\frac{p}{q}}{\frac{p'}{q'}}= \frac{pq'}{qp'}$.

We can also define a relation $<$ between fractions, such that 
\begin{itemize}
  \item $x < y$ and $y < z \implies x < z$
  \item $x < y \implies x + z < y + z$
\end{itemize}

$\mathbb{Q}$, together with its operations and relations above, is called an \textbf{ordered field}.








% \begin{definitionEnd}[Composite]
%   Given $f: A \rightarrow B$ and $g: B \rightarrow C$, the \textbf{composite} $g \circ f$ of $f$ and $g$ is the function $g \circ f: A \rightarrow C$, defined by the equation $(g\circ f)(a) = g(f(a))$. The rule of this composition: \[\{(a,c)\,|\,\text{For some } b \in B, f(a) = b \text{ and } g(b) = c\}\]
% \end{definitionEnd}
% \begin{proofEnd}
%   Some examples here, perhaps.
% \end{proofEnd}

% \begin{lemmaEnd}
%   Two equivalence classes are either disjoint or equal.
% \end{lemmaEnd}
% \begin{proofEnd}
%   Let $E$ be the equivalence class determined by $x$ and $E'$ the equivalence class determined by $x'$. Assume $E \cap E' \neq \varnothing$, and take $y \in E \cap E'$. By definition of equivalence classes, $y \sim x$ and $y \sim x'$.

%   By the property of symmetry, $x \sim y$, and by transivity, $x \sim x'$. Thus, $x \in E'$, and it follows that since $x \in E$, $E \subset E'$. The same logic applies in the other direction, such that $E' \subset E$, and thus $E = E'$.
% \end{proofEnd}


\newpage
\section{Appendix}
\printProofs

\end{document}